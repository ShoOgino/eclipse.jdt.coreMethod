	Iterable<? extends File> getDefaultEndorsedDirs() {
		ArrayList<String> paths = new ArrayList<String>();
    	String endorsedDirsStr = System.getProperty("java.endorsed.dirs"); //$NON-NLS-1$
    	if (endorsedDirsStr == null) {
    		File javaHome = this.compiler.getJavaHome();
    		if (javaHome != null) {
    			paths.add(javaHome.getAbsolutePath() + "/lib/endorsed"); //$NON-NLS-1$
    		}
    	} else {
    		StringTokenizer tokenizer = new StringTokenizer(endorsedDirsStr, File.pathSeparator);
    		while (tokenizer.hasMoreTokens()) 
    			paths.add(tokenizer.nextToken());
    	}
		File[] directoriesToCheck = new File[paths.size()];
		for (int i = 0; i < directoriesToCheck.length; i++) 
			directoriesToCheck[i] = new File(paths.get(i));
		File[][] jars = Main.getLibrariesFiles(directoriesToCheck);
		ArrayList<File> files = new ArrayList<File>();
		addFiles(jars, files);
		return files;
	}

