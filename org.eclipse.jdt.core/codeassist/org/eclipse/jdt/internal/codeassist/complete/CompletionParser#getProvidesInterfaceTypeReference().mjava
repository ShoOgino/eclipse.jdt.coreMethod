protected TypeReference getProvidesInterfaceTypeReference() {
	/* build a Reference on a variable that may be qualified or not */

    TypeReference ref = null;
	int length = this.identifierLengthStack[this.identifierLengthPtr];
	if (length > 0) {
		if (length == 1) {
			ref = new SingleTypeReference(this.identifierStack[this.identifierPtr],
							this.identifierPositionStack[this.identifierPtr]);
		} else {
			//Qualified type reference
			char[][] tokens = new char[length][];
			long[] positions = new long[length];
			int start = this.identifierPtr - length + 1;
			System.arraycopy(this.identifierStack, start, tokens, 0, length);
			System.arraycopy(
				this.identifierPositionStack,
				start,
				positions,
				0,
				length);
			ref = new QualifiedTypeReference(tokens, positions);
		}
	}
	return ref;
}

