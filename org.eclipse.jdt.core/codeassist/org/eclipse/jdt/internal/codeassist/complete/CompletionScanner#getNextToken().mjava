public int getNextToken() throws InvalidInputException {
	int nextToken = this.getNextToken0();
	if (this.record) {
		switch (nextToken) {
			case TokenNameIdentifier:
				if (this.currentToken != TokenNameDOT) {
					char[] identifier = this.getCurrentIdentifierSource();
					if (!Character.isUpperCase(identifier[0]) && 
							CharOperation.prefixEquals(this.prefix, identifier, true)) {
						this.addPotentialName(identifier, this.startPosition);
					}
				}
				break;
			case TokenNameLPAREN :
			case TokenNameLBRACE :
				if (this.currentToken == TokenNameIdentifier) {
					this.removePotentialNamesAt(this.currentTokenStart);
					
				}
				break;
		}
	}
	this.currentToken = nextToken;
	this.currentTokenStart = this.startPosition;
	return nextToken;
}

