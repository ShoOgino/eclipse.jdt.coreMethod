	/*
	 * Build specific type reference nodes in case the cursor is located inside the type reference
	 */
	protected TypeReference getTypeReference(int dim) {

		int index;

		/* no need to take action if not inside completed identifiers */
		if ((index = indexOfAssistIdentifier()) < 0) {
			return super.getTypeReference(dim);
		}

		/* retrieve identifiers subset and whole positions, the assist node positions
			should include the entire replaced source. */
		int length = identifierLengthStack[identifierLengthPtr];
		char[][] subset = identifierSubSet(index);
		identifierLengthPtr--;
		identifierPtr -= length;
		long[] positions = new long[length];
		System.arraycopy(
			identifierPositionStack,
			identifierPtr + 1,
			positions,
			0,
			length);

		/* build specific assist on type reference */
		TypeReference reference;
		if (index == 0) {
			/* assist inside first identifier */
			reference =
				this.createSingleAssistTypeReference(assistIdentifier(), positions[0]);
		} else {
			/* assist inside subsequent identifier */
			reference =
				this.createQualifiedAssistTypeReference(subset, assistIdentifier(), positions);
		}
		assistNode = reference;
		this.lastCheckPoint = reference.sourceEnd + 1;
		return reference;
	}

