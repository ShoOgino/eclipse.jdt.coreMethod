static Classpath getClasspath(String classpathName, String encoding,
		int classpathDirectoryMode, AccessRuleSet accessRuleSet) {
	Classpath result = null;
	try {
			File file = new File(convertPathSeparators(classpathName));
			if (file.isDirectory()) {
				if (file.exists()) {
					result = new ClasspathDirectory(file, encoding,
							classpathDirectoryMode, accessRuleSet);
				}
			} else {
				String lowercaseClasspathName = classpathName.toLowerCase();
				if (lowercaseClasspathName.endsWith(SUFFIX_STRING_jar)
						|| lowercaseClasspathName.endsWith(SUFFIX_STRING_zip)) {
					result = new ClasspathJar(new ZipFile(file), true,
							accessRuleSet);
					// will throw an IOException if file does not exist
				}
			}
		} catch (IOException e) {
			// result = null; -- this is already the case
		}
	return result;
}

