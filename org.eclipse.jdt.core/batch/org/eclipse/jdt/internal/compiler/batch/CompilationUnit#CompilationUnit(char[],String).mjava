public CompilationUnit(char[] contents, String fileName) {
	this.contents = contents;
	this.fileName = fileName.toCharArray();

	int start = fileName.lastIndexOf("/"/*nonNLS*/) + 1;
	if (start == 0 || start < fileName.lastIndexOf("\\"/*nonNLS*/))
		start = fileName.lastIndexOf("\\"/*nonNLS*/) + 1;

	int end = fileName.lastIndexOf("."/*nonNLS*/);
	if (end == -1)
		end = fileName.length();

	this.mainTypeName = fileName.substring(start, end).toCharArray();
}

