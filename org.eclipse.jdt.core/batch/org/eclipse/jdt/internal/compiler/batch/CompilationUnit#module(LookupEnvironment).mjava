@Override
public ModuleBinding module(LookupEnvironment rootEnvironment) {
	if (this.moduleBinding != null)
		return this.moduleBinding;
	if (this.modCU != null)
		return this.moduleBinding = this.modCU.module(rootEnvironment);
	if (CharOperation.endsWith(this.fileName, TypeConstants.MODULE_INFO_FILE_NAME)) {
		this.moduleBinding = rootEnvironment.getModule(this.module);
		if (this.moduleBinding == null)
			throw new IllegalStateException("Module should be known");
		return this.moduleBinding;
	}
	return rootEnvironment.UnNamedModule;
}

