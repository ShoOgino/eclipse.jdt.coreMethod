	/**
	 * Postprocesses the given code snippet with the given indentation.
	 * 
	 * @param snippet the code snippet
	 * @param indentation the indentation
	 * @return the postprocessed code snippet
	 */
	private String postprocessCodeSnippet(String snippet, String indentation) {
		// patch content prefix
		StringBuffer buffer= new StringBuffer();
		ILineTracker tracker= new ConfigurableLineTracker(new String[] { TextUtilities.getDefaultLineDelimiter( getDocument()) });
		String patch= indentation + MultiCommentLine.MULTI_COMMENT_CONTENT_PREFIX;

		buffer.setLength(0);
		buffer.append(getDelimiter());
		buffer.append(convertJava2Html(snippet));
		buffer.append(getDelimiter());
		tracker.set(buffer.toString());
		
		for (int line= tracker.getNumberOfLines() - 1; line > 0; line--)
			try {
				buffer.insert(tracker.getLineOffset(line), patch);
			} catch (BadLocationException e) {
				// Can not happen
				CommentFormatterUtil.log(e);
				return snippet;
			}
		
		return buffer.toString();
	}

