	/**
	 * Formats this comment line as start line having an upper border
	 * consisting of content line prefixes.
	 *
	 * @param range the first comment range in the comment region
	 * @param indentation the indentation of the comment region
	 * @param length the maximal length of text in this comment region
	 *                measured in average character widths
	 */
	protected void formatUpperBorder(final CommentRange range, final String indentation, final int length) {

		final StringBuffer buffer= new StringBuffer(length);
		final String start= getStartingPrefix();
		final String content= getContentPrefix();

		if (this.fParent.isSingleLine() && this.fParent.getSize() == 1)
			buffer.append(start);
		else {

			final String trimmed= start.trim();
			final String filler= content.trim();

			buffer.append(trimmed);

			if (this.fParent.hasBorder(BORDER_UPPER)) {

				for (int character= 0; character < length - trimmed.length() + start.length(); character++)
					buffer.append(filler);
			}

			buffer.append(this.fParent.getDelimiter());
			buffer.append(indentation);
			buffer.append(content);
		}
		this.fParent.logEdit(buffer.toString(), 0, range.getOffset());
	}

