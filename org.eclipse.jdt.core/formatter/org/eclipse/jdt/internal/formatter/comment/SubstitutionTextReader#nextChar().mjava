	/**
	 * Returns the next character.
	 */
	protected int nextChar() throws IOException {
		this.fReadFromBuffer= (this.fBuffer.length() > 0);
		if (this.fReadFromBuffer) {
			char ch= this.fBuffer.charAt(this.fIndex++);
			if (this.fIndex >= this.fBuffer.length()) {
				this.fBuffer.setLength(0);
				this.fIndex= 0;
			}
			return ch;
		} else {
			int ch= this.fCharAfterWhiteSpace;
			if (ch == -1) {
				ch= this.fReader.read();
			}
			if (this.fSkipWhiteSpace && ScannerHelper.isWhitespace((char)ch)) {
				do {
					ch= this.fReader.read();
				} while (ScannerHelper.isWhitespace((char)ch));
				if (ch != -1) {
					this.fCharAfterWhiteSpace= ch;
					return ' ';
				}
			} else {
				this.fCharAfterWhiteSpace= -1;
			}
			return ch;
		}
	}

