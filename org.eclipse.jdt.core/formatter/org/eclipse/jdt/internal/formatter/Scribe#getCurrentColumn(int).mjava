	int getCurrentColumn(int start) {
		int linePtr = Arrays.binarySearch(this.lineEnds, start);
		if (linePtr < 0) {
			linePtr = -linePtr - 1;
		}
		int currentColumn = 1;
		int beginningOfLine = getLineEnd(linePtr)+1;
		if (beginningOfLine == -1) {
			beginningOfLine = 0;
		}
		char[] source = this.scanner.source;

		for (int i=beginningOfLine; i<start; i++) {
			char currentCharacter = source[i];
			switch (currentCharacter) {
				case '\t' :
					if (this.tabLength != 0) {
						int reminder = (currentColumn-1) % this.tabLength;
						if (reminder == 0) {
							currentColumn += this.tabLength;
						} else {
							currentColumn = ((currentColumn / this.tabLength) + 1) * this.tabLength + 1;
						}
					}
					break;
				case '\r' :
				case '\n' :
					currentColumn = 0;
					break;
				case ' ':
					currentColumn++;
					break;
				default:
					return currentColumn;
			}
		}
		return currentColumn;
	}

