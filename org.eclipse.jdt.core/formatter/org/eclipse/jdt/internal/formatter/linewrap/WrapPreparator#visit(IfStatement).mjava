	@Override
	public boolean visit(IfStatement node) {
		Statement thenStatement = node.getThenStatement();
		Statement elseStatement = node.getElseStatement();
		if (!(thenStatement instanceof Block)) {
			boolean keepThenOnSameLine = this.options.keep_then_statement_on_same_line
					|| (this.options.keep_simple_if_on_one_line && elseStatement == null);
			if (keepThenOnSameLine) {
				this.wrapIndexes.add(this.tm.firstIndexIn(thenStatement, -1));
				this.wrapParentIndex = this.tm.firstIndexAfter(node.getExpression(), TokenNameRPAREN);
				this.wrapGroupEnd = this.tm.lastIndexIn(thenStatement, -1);
				handleWrap(this.options.alignment_for_compact_if, node);
			}
		}
		if (elseStatement != null && !(elseStatement instanceof Block) && !(elseStatement instanceof IfStatement)) {
			if (this.options.keep_else_statement_on_same_line) {
				int elseIndex = this.tm.firstIndexIn(elseStatement, -1);
				this.wrapIndexes.add(elseIndex);
				this.wrapParentIndex = this.tm.firstIndexAfter(node.getExpression(), TokenNameRPAREN);
				this.wrapGroupEnd = this.tm.lastIndexIn(elseStatement, -1);
				handleWrap(this.options.alignment_for_compact_if, node);
			}
		}
		return true;
	}

