	private String probeFormatting(String source, int indentationLevel, int[] positions, String lineSeparator, Map options) {
		Expression expression = parseExpression(source.toCharArray(), options);
		
		if (expression != null) {
			return internalFormatExpression(source, indentationLevel, positions, lineSeparator, options, expression);
		}

		ConstructorDeclaration constructorDeclaration = parseStatements(source.toCharArray(), options);
		
		if (constructorDeclaration.statements != null) {
			return internalFormatStatements(source, indentationLevel, positions, lineSeparator, options, constructorDeclaration);
		}
		
		AstNode[] bodyDeclarations = parseClassBodyDeclarations(source.toCharArray(), options);
		
		if (bodyDeclarations != null) {
			return internalFormatClassBodyDeclarations(source, indentationLevel, positions, lineSeparator, options, bodyDeclarations);
		}

		return formatCompilationUnit(source, indentationLevel, positions, lineSeparator, options);
	}

