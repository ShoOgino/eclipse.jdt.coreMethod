	public TypeBinding resolveType(BlockScope scope) {
	
		// implicit this
		constant = NotAConstant;
		TypeBinding snippetType = null;
		if (this.isImplicit || checkAccess(scope.methodScope())){
			snippetType = scope.enclosingSourceType();
		}
		if (snippetType == null) return null;
		
		delegateThis = scope.getField(snippetType, DELEGATE_THIS, this);
		if (delegateThis == null) return null; // internal error, field should have been found
		if (delegateThis.isValidBinding()) return this.resolvedType = delegateThis.type;
		return this.resolvedType = snippetType;
	}

