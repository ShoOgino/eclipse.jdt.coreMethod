	public TypeBinding resolveType(BlockScope scope) {
	
		// implicit this
		this.constant = Constant.NotAConstant;
		TypeBinding snippetType = null;
		if (this.isImplicit || checkAccess(scope.methodScope())){
			snippetType = scope.enclosingSourceType();
		}
		if (snippetType == null) return null;
		
		this.delegateThis = scope.getField(snippetType, DELEGATE_THIS, this);
		if (this.delegateThis == null) return null; // internal error, field should have been found
		if (this.delegateThis.isValidBinding()) return this.resolvedType = this.delegateThis.type;
		return this.resolvedType = snippetType;
	}

