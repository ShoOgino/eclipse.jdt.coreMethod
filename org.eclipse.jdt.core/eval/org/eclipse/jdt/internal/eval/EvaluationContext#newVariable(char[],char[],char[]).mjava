/**
 * Creates a new global variable with the given name, type and initializer.
 * If the variable is not initialized, the initializer can be null.
 * Note that this doesn't install it to this evaluation context's VM.
 *
 * @see GlobalVariable
 */
public GlobalVariable newVariable(char[] typeName, char[] name, char[] initializer) {
	GlobalVariable var = new GlobalVariable(typeName, name, initializer);
	try {
		this.variables[this.variableCount++] = var;
	} catch (ArrayIndexOutOfBoundsException e) {
		int index = this.variableCount - 1;
		GlobalVariable[] oldVars = this.variables;
		GlobalVariable[] newVars = new GlobalVariable[index * 2];
		System.arraycopy(oldVars, 0, newVars, 0, index);
		newVars[index] = var;
		this.variables = newVars;
	}
	this.varsChanged = true;
	return var;
}

