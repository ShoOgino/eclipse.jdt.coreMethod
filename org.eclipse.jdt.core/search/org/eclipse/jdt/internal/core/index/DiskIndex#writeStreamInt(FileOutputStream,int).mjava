private void writeStreamInt(FileOutputStream stream, int val) throws IOException {
	if ((this.bufferIndex+4) < BUFFER_WRITE_SIZE)  {
		this.streamBuffer[this.bufferIndex++] = (byte) (val >> 24);
		this.streamBuffer[this.bufferIndex++] = (byte) (val >> 16);
		this.streamBuffer[this.bufferIndex++] = (byte) (val >> 8);
		this.streamBuffer[this.bufferIndex++] = (byte) val;
	} else {
		this.streamBuffer[this.bufferIndex++] = (byte) (val >> 24);
		if (this.bufferIndex == BUFFER_WRITE_SIZE) { // write bytes array on stream if buffer is full
			stream.write(this.streamBuffer, 0, BUFFER_WRITE_SIZE);
			this.bufferIndex = 0;
		}
		this.streamBuffer[this.bufferIndex++] = (byte) (val >> 16);
		if (this.bufferIndex == BUFFER_WRITE_SIZE) { // write bytes array on stream if buffer is full
			stream.write(this.streamBuffer, 0, BUFFER_WRITE_SIZE);
			this.bufferIndex = 0;
		}
		this.streamBuffer[this.bufferIndex++] = (byte) (val >> 8);
		if (this.bufferIndex == BUFFER_WRITE_SIZE) { // write bytes array on stream if buffer is full
			stream.write(this.streamBuffer, 0, BUFFER_WRITE_SIZE);
			this.bufferIndex = 0;
		}
		this.streamBuffer[this.bufferIndex++] = (byte) val;
		if (this.bufferIndex == BUFFER_WRITE_SIZE) { // write bytes array on stream if buffer is full
			stream.write(this.streamBuffer, 0, BUFFER_WRITE_SIZE);
			this.bufferIndex = 0;
		}
	}
	this.streamEnd += 4;
}

