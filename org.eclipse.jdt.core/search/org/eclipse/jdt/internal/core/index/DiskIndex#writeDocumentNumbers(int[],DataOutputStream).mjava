private void writeDocumentNumbers(int[] documentNumbers, DataOutputStream stream) throws IOException {
	int length = documentNumbers.length;
	if (length < 0x7FFF) {
		if (length == 0)
			throw new IllegalArgumentException();
		stream.writeShort(length);
	} else {
		stream.writeShort(0x7FFF);
		stream.writeInt(length);
	}
	Util.sort(documentNumbers);
	for (int i = 0; i < length; i++) {
		switch (this.documentReferenceSize) {
			case 1 :
				stream.writeByte(documentNumbers[i]);
				break;
			case 2 :
				stream.writeShort(documentNumbers[i]);
				break;
			default :
				stream.writeInt(documentNumbers[i]);
				break;
		}
	}
}

