	public int putUTF(int offset, char[] str) {
		int strlen = str.length;
		int utflen = 0;
		for (int i = 0; i < strlen; i++) {
			int c = str[i];
			if ((c >= 0x0001) && (c <= 0x007F)) {
				utflen++;
			} else
				if (c > 0x07FF) {
					utflen += 3;
				} else {
					utflen += 2;
				}
		}
		if (utflen > 65535)
			throw new IllegalArgumentException();
		int pos = this.offset + offset;
		buffer[pos++] = (byte) ((utflen >>> 8) & 0xFF);
		buffer[pos++] = (byte) ((utflen >>> 0) & 0xFF);
		for (int i = 0; i < strlen; i++) {
			int c = str[i];
			if ((c >= 0x0001) && (c <= 0x007F)) {
				buffer[pos++] = ((byte) c);
			} else
				if (c > 0x07FF) {
					buffer[pos++] = ((byte) (0xE0 | ((c >> 12) & 0x0F)));
					buffer[pos++] = ((byte) (0x80 | ((c >> 6) & 0x3F)));
					buffer[pos++] = ((byte) (0x80 | ((c >> 0) & 0x3F)));
				} else {
					buffer[pos++] = ((byte) (0xC0 | ((c >> 6) & 0x1F)));
					buffer[pos++] = ((byte) (0x80 | ((c >> 0) & 0x3F)));
				}
		}
		return 2 + utflen;
	}

