	/**
	 * Merges the 2 indexes into a new one on the disk.
	 */
	public void merge() throws IOException {
		try {
			//init
			addsInput.open();
			oldInput.open();
			mergeOutput.open();
			init();
			//merge
			//findChanges();
			mergeFiles();
			mergeReferences();
			mergeOutput.flush();
		} finally {
			//closes everything
			oldInput.close();
			addsInput.close();
			mergeOutput.close();
		}
	}

