	protected void encodeEntry(WordEntry entry, char[] previousWord, CodeByteStream codeStream) {
		char[] word= entry.getWord();
		int prefixLen= previousWord == null ? 0 : Util.prefixLength(previousWord, word);
		codeStream.writeByte(prefixLen);
		codeStream.writeUTF(word, prefixLen, word.length);
		int n= entry.getNumRefs();
		codeStream.writeGamma(n);
		int prevRef= 0;
		for (int i= 0; i < n; ++i) {
			int ref= entry.getRef(i);
			if (ref <= prevRef)
				throw new IllegalArgumentException();
			codeStream.writeGamma(ref - prevRef);
			prevRef= ref;
		}
	}

