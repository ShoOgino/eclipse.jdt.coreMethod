private void readChunk(String[] docNames, FileInputStream stream, int index, int size) throws IOException {
	String current = new String(readStreamChars(stream));
	docNames[index++] = current;
	for (int i = 1; i < size; i++) {
		int start = (streamBuffer[this.bufferIndex++]&0xFF);
		if (stream != null && this.bufferIndex == BUFFER_READ_SIZE) {
			this.bufferIndex = 0;
			int readSize = this.streamEnd - this.streamPos;
			this.streamPos += stream.read(this.streamBuffer, 0, readSize < BUFFER_READ_SIZE ? readSize : BUFFER_READ_SIZE);
		}
		int end = (streamBuffer[this.bufferIndex++]&0xFF);
		if (stream != null && this.bufferIndex == BUFFER_READ_SIZE) {
			this.bufferIndex = 0;
			int readSize = this.streamEnd - this.streamPos;
			this.streamPos += stream.read(this.streamBuffer, 0, readSize < BUFFER_READ_SIZE ? readSize : BUFFER_READ_SIZE);
		}
		String next  = new String(readStreamChars(stream));
		if (start > 0) {
			if (end > 0) {
				int length = current.length();
				next = current.substring(0, start) + next + current.substring(length - end, length);
			} else {
				next = current.substring(0, start) + next;
			}
		} else if (end > 0) {
			int length = current.length();
			next = next + current.substring(length - end, length);
		}
		docNames[index++] = next;
		current = next;
	}
}

