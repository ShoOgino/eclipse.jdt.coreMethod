	private void computeOffsets() {
		int offset = this.superClass == null ? 0 : this.superClass.size();

		for (IField next : this.fields) {
			next.setOffset(offset);
			offset += next.getRecordSize();
		}

		this.size = offset;
		this.offsetsComputed = true;

		for (StructDef<? extends T> next : this.subClasses) {
			if (next.doneCalled) {
				next.computeOffsets();
			}
		}
	}

