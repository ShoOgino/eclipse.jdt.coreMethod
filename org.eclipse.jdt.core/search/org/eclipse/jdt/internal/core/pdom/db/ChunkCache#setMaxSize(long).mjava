	/**                                                                           
	 * Clears the page table and changes it to hold chunks with
	 * maximum total memory of <code>maxSize</code>.       
	 * @param maxSize the total size of the chunks in bytes.                
	 */                                                                           
	public synchronized void setMaxSize(long maxSize) {
		final int newLength= computeLength(maxSize);
		final int oldLength= fTableIsFull ? fPageTable.length : fPointer;
		if (newLength > oldLength) {
			Chunk[] newTable= new Chunk[newLength];
			System.arraycopy(fPageTable, 0, newTable, 0, oldLength);
			fTableIsFull= false;
			fPointer= oldLength;
			fPageTable= newTable;
		} else {
			for (int i= newLength; i < oldLength; i++) {
				final Chunk chunk= fPageTable[i];
				chunk.fDatabase.releaseChunk(chunk);
				chunk.fCacheIndex= -1;
			}
			Chunk[] newTable= new Chunk[newLength];
			System.arraycopy(fPageTable, 0, newTable, 0, newLength);
			fTableIsFull= true;
			fPointer= 0;
			fPageTable= newTable;
		}       
	}                                                                             

