	public ShortString(Database db, char[] chars, boolean useBytes) throws IndexException {
		final int n = chars.length;
		this.db = db;
		
		this.record = db.malloc(CHARS + (useBytes ? n : 2 * n));
		Chunk chunk = db.getChunk(record);
		chunk.putInt(record + LENGTH, useBytes ? -n : n);
		long p = record + CHARS;
		if (useBytes) {
			chunk.putCharsAsBytes(p, chars, 0, n);
		} else {
			chunk.putChars(p, chars, 0, n);
		}
	}

