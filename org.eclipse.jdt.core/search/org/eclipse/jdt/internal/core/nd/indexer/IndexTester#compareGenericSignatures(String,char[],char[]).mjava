	/**
	 * The index always provides complete generic signatures whereas some or all of the generic signature is optional
	 * for class files, so the generic signatures are expected to differ in certain situations.
	 */
	private static void compareGenericSignatures(String message, char[] expected, char[] actual) {
		// If the whole generic signature was omitted by the compiler, there's nothing to compare
		if (expected == null) {
			return;
		}

		// If the expected value was missing the optional section for exceptions then it only needs to match
		// a prefix of the actual signature
		if (CharArrayUtils.indexOf('^', expected) == -1 && actual.length > expected.length) {
			if (CharArrayUtils.equals(expected, CharArrayUtils.subarray(actual, 0, expected.length))) {
				return;
			}
		}

		assertEquals(message, expected, actual);
	}

