/**
 * Reports the given reference to the search requestor.
 * It is done in the given field and given type.
 * The field's defining types have the given simple names.
 */
private void reportReference(
	AstNode reference,
	TypeDeclaration typeDeclaration,
	FieldDeclaration fieldDeclaration,
	IJavaElement parent,
	int accuracy)
	throws CoreException {

	IJavaElement enclosingElement;
	if (parent instanceof IType) {
		enclosingElement = fieldDeclaration.isField()
			? (IJavaElement) createFieldHandle(fieldDeclaration, (IType) parent)
			: (IJavaElement) createInitializerHandle(typeDeclaration, fieldDeclaration, (IType) parent);
		if (enclosingElement == null) return;
	} else {
		enclosingElement = parent;
	}
	this.patternLocator.matchReportReference(reference, enclosingElement, accuracy, this);
}

