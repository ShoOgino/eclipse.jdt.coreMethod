/**
 * Returns whether the given type binding matches the given simple name pattern 
 * and qualification pattern.
 * Returns ACCURATE_MATCH if it does.
 * Returns INACCURATE_MATCH if resolve failed.
 * Returns IMPOSSIBLE_MATCH if it doesn't.
 */
protected int matchLevelForType(char[] simpleNamePattern, char[] qualificationPattern, TypeBinding type) {
	if (type == null) return INACCURATE_MATCH;

	char[] qualifiedPackageName = type.qualifiedPackageName();
	char[] qualifiedSourceName = type instanceof LocalTypeBinding
			? CharOperation.concat("1".toCharArray(), type.qualifiedSourceName(), '.') //$NON-NLS-1$
			: type.qualifiedSourceName();
	char[] fullyQualifiedTypeName = qualifiedPackageName.length == 0
		? qualifiedSourceName
		: CharOperation.concat(qualifiedPackageName, qualifiedSourceName, '.');

	// NOTE: if case insensitive search then simpleNamePattern & qualificationPattern are assumed to be lowercase
	char[] pattern;
	if (simpleNamePattern == null) {
		if (qualificationPattern == null) return ACCURATE_MATCH;
		pattern = CharOperation.concat(qualificationPattern, ONE_STAR, '.');
	} else {
		pattern = qualificationPattern == null
			? CharOperation.concat(ONE_STAR, simpleNamePattern)
			: CharOperation.concat(qualificationPattern, simpleNamePattern, '.');
	}
	return CharOperation.match(pattern, fullyQualifiedTypeName, this.isCaseSensitive)
		? ACCURATE_MATCH
		: IMPOSSIBLE_MATCH;
}

