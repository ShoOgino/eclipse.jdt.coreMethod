public void indexResolvedDocument() {
	if (this.cu != null && this.cu.scope != null) {
		final ASTVisitor visitor = new ASTVisitor() {
				public boolean visit(LambdaExpression lambdaExpression, BlockScope blockScope) {
					if (lambdaExpression.binding != null && lambdaExpression.binding.isValidBinding()) {
						SourceIndexer.this.addIndexEntry(IIndexConstants.METHOD_DECL, MethodPattern.createIndexKey(lambdaExpression.descriptor.selector, lambdaExpression.descriptor.parameters.length));
					}
					return true;
				}
				public boolean visit(ReferenceExpression referenceExpression, BlockScope blockScope) {
					if (referenceExpression.isArrayConstructorReference())
						return true;
					MethodBinding binding = referenceExpression.getMethodBinding();
					if (binding != null && binding.isValidBinding()) {
						if (referenceExpression.isMethodReference())
							SourceIndexer.this.addMethodReference(binding.selector, binding.parameters.length);
						else
							SourceIndexer.this.addConstructorReference(binding.declaringClass.sourceName(), binding.parameters.length);
					}
					return true;
				}
			};
		this.cu.traverse(visitor , this.cu.scope, false);
	}
}

