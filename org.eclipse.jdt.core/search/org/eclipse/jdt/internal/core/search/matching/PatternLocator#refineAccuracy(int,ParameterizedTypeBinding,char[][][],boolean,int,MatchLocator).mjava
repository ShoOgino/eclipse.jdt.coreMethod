protected int refineAccuracy(int accuracy, ParameterizedTypeBinding parameterizedBinding, char[][][] patternTypeArguments, boolean patternHasTypeParameters, int depth, MatchLocator locator) {
	// We can only refine if locator has an unit scope.
	if (locator.unitScope == null) return accuracy;

	// Refine accuracy using binding and pattern arguments
	char[][] patternArguments = (patternTypeArguments==null) ? null : patternTypeArguments[depth];
	int refinedAccuracy = refineAccuracy(accuracy, parameterizedBinding.arguments, locator, patternArguments, patternHasTypeParameters);
	if (refinedAccuracy == SearchPattern.R_ERASURE_MATCH) {
		return SearchPattern.R_ERASURE_MATCH;
	}

	// Recurse refining on enclosing types if any
	TypeBinding enclosingType = parameterizedBinding.enclosingType();
	if (enclosingType != null && (enclosingType.isParameterizedType() || enclosingType.isRawType())) {
		if (patternTypeArguments == null || (depth+1)<patternTypeArguments.length) {
			return refineAccuracy(refinedAccuracy, (ParameterizedTypeBinding)enclosingType, patternTypeArguments, patternHasTypeParameters, depth+1, locator);
		}
	}
	
	// Refine the accuracy to accurate
	return refinedAccuracy;
}

