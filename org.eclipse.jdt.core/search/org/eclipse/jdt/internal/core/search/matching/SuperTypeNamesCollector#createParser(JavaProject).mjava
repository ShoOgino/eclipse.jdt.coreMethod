/**
 * Create a new parser for the given project, as well as a lookup environment.
 */
private void createParser(JavaProject project) throws JavaModelException {
	INameEnvironment nameEnvironment = project.getSearchableNameEnvironment();
	IProblemFactory problemFactory = new DefaultProblemFactory();

	CompilerOptions options = new CompilerOptions(JavaCore.getOptions());
	ProblemReporter problemReporter =
		new ProblemReporter(
			DefaultErrorHandlingPolicies.proceedWithAllProblems(),
			options,
			problemFactory);
	this.lookupEnvironment =
		new LookupEnvironment(this, options, problemReporter, nameEnvironment);
	this.parser = new Parser(problemReporter, true, options.assertMode);
}

