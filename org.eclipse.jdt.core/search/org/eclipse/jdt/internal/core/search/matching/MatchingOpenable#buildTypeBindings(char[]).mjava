private void buildTypeBindings(final char[] source) {
	// get qualified name
	char[] qualifiedName = this.getQualifiedName();
	if (qualifiedName == null) return;

	// create match set	
	this.matchSet = new MatchSet(this.locator);
	
	try {
		this.locator.parser.matchSet = this.matchSet;

		this.parsedUnit = (CompilationUnitDeclaration)this.locator.parsedUnits.get(qualifiedName);
		if (this.parsedUnit == null) {
			// diet parse
			this.parsedUnit = this.locator.dietParse(source);
			
			// initial type binding creation
			this.locator.lookupEnvironment.buildTypeBindings(this.parsedUnit);
		} else {
			// free memory
			this.locator.parsedUnits.put(qualifiedName, null);
		}
	} finally {
		this.locator.parser.matchSet = null;
	}
}

