	/**
	 * Reports the given reference to the search requestor.
	 * It is done in the given method and the method's defining types 
	 * have the given simple names.
	 */
	public void reportReference(
		AstNode reference,
		AbstractMethodDeclaration methodDeclaration,
		char[][] definingTypeNames,
		int accuracy)
		throws CoreException {

		// create defining method handle
		IMethod method = this.createMethodHandle(methodDeclaration, definingTypeNames);
		if (method == null) return; // case of a match found in a type other than the current class file

		// accept reference
		if (reference instanceof QualifiedNameReference
			|| reference instanceof QualifiedTypeReference) {
			this.pattern.matchReportReference((AstNode) reference, method, accuracy, this);
		} else
			if (reference instanceof MessageSend) {
				// message ref are starting at the selector start
				this.report(
					(int) (((MessageSend) reference).nameSourcePosition >> 32),
					reference.sourceEnd,
					method,
					accuracy);
			} else {
				this.report(reference.sourceStart, reference.sourceEnd, method, accuracy);
			}
	}

