private boolean referencingProjectsIncludes(IJavaProject javaProject, IPath path) throws JavaModelException {
	IJavaModel model = javaProject.getJavaModel();
	IProject[] projects = javaProject.getProject().getReferencingProjects();
	for (int i = 0, length = projects.length; i < length; i++) {
		IProject project = projects[i];
		IJavaProject referencingProject = model.getJavaProject(project.getName());
		IClasspathEntry[] classpath = referencingProject.getResolvedClasspath(true);
		for (int j = 0, length2 = classpath.length; j < length2; j++) {
			IClasspathEntry entry = classpath[j];
			if (entry.getPath().equals(path)) {
				return true;
			}
		}
		if (this.referencingProjectsIncludes(referencingProject, path)) {
			return true;
		}
	}
	return false;
}

