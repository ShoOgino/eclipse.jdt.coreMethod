/**
 * Constructor declaration entries are encoded as 'constructorDecl/' TypeName '/' Arity:
 * e.g. 'constructorDecl/X/0'
 *
 * Constructor reference entries are encoded as 'constructorRef/' TypeName '/' Arity:
 * e.g. 'constructorRef/X/0'
 */
public char[] encodeIndexKey() {
	// will have a common pattern in the new story
	if (isCaseSensitive() && this.declaringSimpleName != null) {
		switch(matchMode()) {
			case EXACT_MATCH :
				int arity = this.parameterCount;
				if (arity >= 0) {
					char[] countChars = arity < 10 ? COUNTS[arity] : ("/" + String.valueOf(arity)).toCharArray(); //$NON-NLS-1$
					return CharOperation.concat(this.declaringSimpleName, countChars);
				}
			case PREFIX_MATCH :
				return this.declaringSimpleName;
			case PATTERN_MATCH :
				int starPos = CharOperation.indexOf('*', this.declaringSimpleName);
				switch(starPos) {
					case -1 :
						return this.declaringSimpleName;
					default : 
						char[] result = new char[starPos];
						System.arraycopy(this.declaringSimpleName, 0, result, 0, starPos);
						return result;
					case 0 : // fall through
				}
		}
	}
	return CharOperation.NO_CHAR; // find them all
}

