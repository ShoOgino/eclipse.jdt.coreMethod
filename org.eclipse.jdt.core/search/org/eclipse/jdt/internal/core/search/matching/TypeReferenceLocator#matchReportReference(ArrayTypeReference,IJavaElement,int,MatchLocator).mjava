protected void matchReportReference(ArrayTypeReference arrayRef, IJavaElement element, int accuracy, MatchLocator locator) throws CoreException {
	if (this.pattern.simpleName == null) {
		if (locator.encloses(element)) {
			int offset = arrayRef.sourceStart;
			SearchMatch match = locator.newTypeReferenceMatch(element, accuracy, offset, arrayRef.sourceEnd-offset+1, arrayRef);
			locator.report(match);
			return;
		}
	}
	if (arrayRef.resolvedType != null) {
		TypeBinding refBinding = arrayRef.resolvedType.leafComponentType();
		int refinedAccuracy = accuracy;
		if (this.pattern != null && this.pattern.isParameterized() && refBinding.isParameterizedType()) {
			ParameterizedTypeBinding parameterizedBinding = (ParameterizedTypeBinding)refBinding;
			refinedAccuracy = refineAccuracy(accuracy, parameterizedBinding, this.pattern.typeArguments, locator);
			if (refinedAccuracy == -1) return; // refined accuracy shows an impossible match...
			// specific report accurate match for parameterized types
			ParameterizedSingleTypeReference paramTypeRef = (ParameterizedSingleTypeReference) arrayRef;
			locator.reportAccurateParameterizedTypeReference(paramTypeRef, this.pattern.simpleName, arrayRef.sourceStart, paramTypeRef.typeArguments, element, refinedAccuracy);
			return;
		}
	}
	locator.reportAccurateTypeReference(arrayRef, this.pattern.simpleName, element, accuracy);
}

