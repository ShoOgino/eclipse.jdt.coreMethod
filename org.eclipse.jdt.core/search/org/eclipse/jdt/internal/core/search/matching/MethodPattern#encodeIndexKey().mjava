/**
 * Method declaration entries are encoded as 'methodDecl/' selector '/' Arity
 * e.g. 'methodDecl/X/0'
 *
 * Method reference entries are encoded as 'methodRef/' selector '/' Arity
 * e.g. 'methodRef/X/0'
 */
public char[] encodeIndexKey() {
	// will have a common pattern in the new story
	if (this.isCaseSensitive && this.selector != null) {
		switch(this.matchMode) {
			case EXACT_MATCH :
				int arity = this.parameterCount;
				if (arity >= 0) {
					char[] countChars = arity < 10 ? COUNTS[arity] : ("/" + String.valueOf(arity)).toCharArray(); //$NON-NLS-1$
					return CharOperation.concat(this.selector, countChars);
				}
			case PREFIX_MATCH :
				return this.selector;
			case PATTERN_MATCH :
				int starPos = CharOperation.indexOf('*', this.selector);
				switch(starPos) {
					case -1 :
						return this.selector;
					default : 
						char[] result = new char[starPos];
						System.arraycopy(this.selector, 0, result, 0, starPos);
						return result;
					case 0 : // fall through
				}
		}
	}
	return CharOperation.NO_CHAR; // find them all
}

