/**
 * Returns whether this constructor pattern  matches the given allocation expression.
 * Look at resolved information only if specified.
 */
protected int matchLevel(AllocationExpression allocation, boolean resolve) {
	// constructor name is simple type name
	char[][] typeName = allocation.type.getTypeName();
	if (this.declaringSimpleName != null && !matchesName(this.declaringSimpleName, typeName[typeName.length-1]))
		return IMPOSSIBLE_MATCH;

	if (resolve)
		return matchLevel(allocation.binding);

	if (this.parameterSimpleNames != null) {
		int length = this.parameterSimpleNames.length;
		Expression[] args = allocation.arguments;
		int argsLength = args == null ? 0 : args.length;
		if (length != argsLength) return IMPOSSIBLE_MATCH;
	}

	return this.mustResolve ? POTENTIAL_MATCH : ACCURATE_MATCH;
}

