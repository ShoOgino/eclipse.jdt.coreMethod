public char[] getSource() {
	try {
		if (this.openable instanceof WorkingCopy) {
			IBuffer buffer = this.openable.getBuffer();
			if (buffer == null) return null;
			return buffer.getCharacters();
		} else if (this.openable instanceof CompilationUnit) {
			return Util.getResourceContentsAsCharArray((IFile)this.resource);
		} else if (this.openable instanceof org.eclipse.jdt.internal.core.ClassFile) {
			org.eclipse.jdt.internal.core.ClassFile classFile = (org.eclipse.jdt.internal.core.ClassFile)this.openable;
			return this.locator.findSource(classFile);
		} else {
			return null;
		}
	} catch (JavaModelException e) {
		return null;
	}
}

