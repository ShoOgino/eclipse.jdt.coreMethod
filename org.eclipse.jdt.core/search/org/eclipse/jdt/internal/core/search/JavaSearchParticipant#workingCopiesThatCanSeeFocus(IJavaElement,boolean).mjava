	/*
	 * Returns the working copies that can see the given focus.
	 */
	private HashMap workingCopiesThatCanSeeFocus(IJavaElement focus, boolean isPolymorphicSearch) {
		if (this.workingCopies == null) return new HashMap();
		if (focus != null) {
			while (!(focus instanceof IJavaProject) && !(focus instanceof JarPackageFragmentRoot)) {
				focus = focus.getParent();
			}
		}
		HashMap result = new HashMap();
		for (int i=0, length = this.workingCopies.length; i<length; i++) {
			ICompilationUnit workingCopy = this.workingCopies[i];
			IPath projectOrJar = IndexSelector.getProjectOrJar(workingCopy).getPath();
			if (focus == null || IndexSelector.canSeeFocus(focus, isPolymorphicSearch, projectOrJar)) {
				result.put(
					workingCopy.getPath().toString(),
					new WorkingCopyDocument(workingCopy)
				);
			}
		}
		return result;
	}

