private boolean encloses(String scopePath, String path, int index) {
	if (this.pathWithSubFolders[index]) {
		// TODO (frederic) apply similar change also if not looking at subfolders
		int pathLength = path.length();
		int scopeLength = scopePath.length();
		if (pathLength < scopeLength) {
			return false;
		}
		if (scopeLength == 0) {
			return true;
		}
		if (pathLength == scopeLength) {
			return path.equals(scopePath);
		}
		if (path.startsWith(scopePath)) {
			if (scopePath.charAt(scopeLength-1) == '/') scopeLength--;
			return path.charAt(scopeLength) == '/';
		}
	} else {
		// if not looking at subfolders, this scope encloses the given path 
		// if this path is a direct child of the scope's ressource
		// or if this path is the scope's resource (see bug 13919 Declaration for package not found if scope is not project)
		if (path.startsWith(scopePath) 
			&& ((scopePath.length() == path.lastIndexOf('/'))
				|| (scopePath.length() == path.length()))) {
			return true;
		}
	}
	return false;
}

