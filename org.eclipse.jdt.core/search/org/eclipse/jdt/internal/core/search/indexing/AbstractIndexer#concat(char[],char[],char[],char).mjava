	/**
	 * Concat(first, second, third, sep) --> [first][second][sep][third]
	 * i.e. no separator is inserted in between first and second
	 */
	protected static final char[] concat(
		char[] firstWithSeparator,
		char[] second,
		char[] third,
		char separator) {
		int length1 = firstWithSeparator.length;
		int length2 = second == null ? 0 : second.length;
		int length3 = third == null ? 0 : third.length;
		char[] result = new char[length1 + length2 + length3 + 1];
		System.arraycopy(firstWithSeparator, 0, result, 0, length1);
		if (second != null)
			System.arraycopy(second, 0, result, length1, length2);
		result[length1 + length2] = separator;
		if (third != null)
			System.arraycopy(third, 0, result, length1 + length2 + 1, length3);
		return result;
	}

