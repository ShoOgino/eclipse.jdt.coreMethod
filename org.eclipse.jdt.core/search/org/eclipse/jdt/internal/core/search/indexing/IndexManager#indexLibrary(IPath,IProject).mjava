/**
 * Trigger addition of a library to an index
 * Note: the actual operation is performed in background
 */
public void indexLibrary(IPath path, IProject referingProject) {
	if (JavaCore.getPlugin() == null || this.workspace == null) return;

	Object target = JavaModel.getTarget(ResourcesPlugin.getWorkspace().getRoot(), path, true);
	
	if (target instanceof IFile) {
		this.request(new AddJarFileToIndex((IFile)target, this, referingProject.getName()));
	} else if (target instanceof java.io.File) {
		this.request(new AddJarFileToIndex(path, this, referingProject.getName()));
	} else if (target instanceof IFolder) {
		this.request(new IndexBinaryFolder((IFolder)target, this, referingProject));
	} 
}

