/**
 * Returns the list of working copies used to do the search on the given java element.
 */
private IWorkingCopy[] getWorkingCopies(IJavaElement element) {
	if (element instanceof IMember) {
		ICompilationUnit cu = ((IMember)element).getCompilationUnit();
		if (cu != null && cu.isWorkingCopy()) {
			int length = this.workingCopies == null ? 0 : this.workingCopies.length;
			if (length > 0) {
				IWorkingCopy[] newWorkingCopies = new IWorkingCopy[length+1];
				System.arraycopy(this.workingCopies, 0, newWorkingCopies, 0, length);
				newWorkingCopies[length] = cu;
				return newWorkingCopies;
			} else {
				return new IWorkingCopy[] {cu};
			}
		}
	}
	return this.workingCopies;
}

