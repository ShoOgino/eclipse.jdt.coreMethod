	void initialize(File jrt) throws IOException {
		String javaVersion = System.getProperty("java.version"); //$NON-NLS-1$
		if (javaVersion != null && javaVersion.startsWith("1.8")) { //$NON-NLS-1$
			URL url = null;
			if (jrt.toString().endsWith(JRTUtil.JRT_FS_JAR)) {
				url = jrt.toPath().toUri().toURL();
			} else if (jrt.isDirectory()) {
				url = jrt.toPath().toUri().toURL();
			} else {
				String jdkHome = jrt.getParentFile().getParentFile().getParent();
				url = Paths.get(jdkHome, JRTUtil.JRT_FS_JAR).toUri().toURL();
			}
			JRTUtil.MODULE_TO_LOAD = System.getProperty("modules.to.load"); //$NON-NLS-1$
			URLClassLoader loader = new URLClassLoader(new URL[] { url });
			HashMap<String, ?> env = new HashMap<>();
			this.jrtSystem = FileSystems.newFileSystem(JRTUtil.JRT_URI, env, loader);
		} else {
			String jdkHome = null;
			if (jrt.toString().endsWith(JRTUtil.JRT_FS_JAR)) {
				jdkHome = jrt.getParentFile().getParent();
			} else if (jrt.isDirectory()) {
				jdkHome = jrt.toPath().toString();
			} else {
				return;
			}
			JRTUtil.MODULE_TO_LOAD = System.getProperty("modules.to.load"); //$NON-NLS-1$
			HashMap<String, String> env = new HashMap<>();
			env.put("java.home", jdkHome); //$NON-NLS-1$
			this.jrtSystem = FileSystems.newFileSystem(JRTUtil.JRT_URI, env);
		}
		walkModuleImage(null, true, 0 /* doesn't matter */);
	}

