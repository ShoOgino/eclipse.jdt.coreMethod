private boolean hasStructuralAnnotationChanges(IBinaryAnnotation[] currentAnnotations, IBinaryAnnotation[] otherAnnotations) {
	if (currentAnnotations == otherAnnotations)
		return false;

	int currentAnnotationsLength = currentAnnotations == null ? 0 : currentAnnotations.length;
	int otherAnnotationsLength = otherAnnotations == null ? 0 : otherAnnotations.length;
	if (currentAnnotationsLength != otherAnnotationsLength)
		return true;
	for (int i = 0; i < currentAnnotationsLength; i++) {
		if (!CharOperation.equals(currentAnnotations[i].getTypeName(), otherAnnotations[i].getTypeName()))
			return true;
		IBinaryElementValuePair[] currentPairs = currentAnnotations[i].getElementValuePairs();
		IBinaryElementValuePair[] otherPairs = otherAnnotations[i].getElementValuePairs();
		int currentPairsLength = currentPairs == null ? 0 : currentPairs.length;
		int otherPairsLength = otherPairs == null ? 0 : otherPairs.length;
		if (currentPairsLength != otherPairsLength)
			return true;
		for (int j = 0; j < currentPairsLength; j++) {
			if (!CharOperation.equals(currentPairs[j].getName(), otherPairs[j].getName()))
				return true;
			if (!currentPairs[j].getValue().equals(otherPairs[j].getValue()))
				return true;
		}
	}
	return false;
}

