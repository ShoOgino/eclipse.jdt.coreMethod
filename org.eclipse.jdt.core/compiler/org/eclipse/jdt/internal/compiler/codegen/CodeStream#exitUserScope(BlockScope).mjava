public void exitUserScope(BlockScope currentScope) {
	// mark all the scope's locals as losing their definite assignment

	if (!manageLocalVariables)
		return;
	while (visibleLocalsCount > 0) {
		LocalVariableBinding visibleLocal = visibleLocals[this.visibleLocalsCount - 1];
		if (visibleLocal == null || visibleLocal.declaringScope != currentScope) {
			// left currentScope
			break;
		}

		// there may be some preserved locals never initialized
		if (visibleLocal.initializationCount > 0 && this.generateLocalVariableTableAttributes){
			visibleLocal.recordInitializationEndPC(position);
		}
		visibleLocals[--this.visibleLocalsCount] = null; // this variable is no longer visible afterwards
	}
}

