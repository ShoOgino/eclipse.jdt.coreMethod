public void importProblem(ImportReference importRef, Binding expectedImport) {
	if (expectedImport instanceof FieldBinding) {
		int id = IProblem.UndefinedField;
		FieldBinding field = (FieldBinding) expectedImport;
		switch (expectedImport.problemId()) {
			case ProblemReasons.NotVisible :
				this.handle(
					IProblem.NotVisibleField,
					new String[] {CharOperation.toString(importRef.tokens), new String(field.declaringClass.readableName())},
					new String[] {CharOperation.toString(importRef.tokens), new String(field.declaringClass.shortReadableName())},
					nodeSourceStart(field, importRef),
					nodeSourceEnd(field, importRef));			
				return;
			case ProblemReasons.Ambiguous :
				id = IProblem.AmbiguousField;
				break;
			case ProblemReasons.ReceiverTypeNotVisible :
				id = IProblem.NotVisibleType;
				break;
		}
		this.handle(
			id, 
			new String[] {new String(field.declaringClass.leafComponentType().readableName())},
			new String[] {new String(field.declaringClass.leafComponentType().shortReadableName())},
			nodeSourceStart(field, importRef),
			nodeSourceEnd(field, importRef));
		return;
	}

	if (expectedImport.problemId() == ProblemReasons.NotFound) {
		char[][] tokens = expectedImport instanceof ProblemReferenceBinding
			? ((ProblemReferenceBinding) expectedImport).compoundName
			: importRef.tokens;
		String[] arguments = new String[]{CharOperation.toString(tokens)};
		this.handle(
		        IProblem.ImportNotFound, 
		        arguments, 
		        arguments, 
		        importRef.sourceStart, 
		        (int) importRef.sourcePositions[tokens.length - 1]);
		return;
	}
	if (expectedImport.problemId() == ProblemReasons.InvalidTypeForStaticImport) {
		char[][] tokens = importRef.tokens;
		String[] arguments = new String[]{CharOperation.toString(tokens)};
		this.handle(
		        IProblem.InvalidTypeForStaticImport, 
		        arguments, 
		        arguments, 
		        importRef.sourceStart, 
		        (int) importRef.sourcePositions[tokens.length - 1]);
		return;
	}
	invalidType(importRef, (TypeBinding)expectedImport);
}

