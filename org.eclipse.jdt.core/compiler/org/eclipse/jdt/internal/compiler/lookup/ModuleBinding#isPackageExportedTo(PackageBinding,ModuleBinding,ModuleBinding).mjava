	/**
	 * Check if the specified package is exported to the client module
	 * @param pkg - the package whose visibility is to be checked
	 * @param source - the module which 'contains' the package 
	 * @param client - the module that wishes to use the package
	 * @return true if the package is exported to the client module and the client
	 *  is dependent on the source module either directly or indirectly, false otherwise
	 */
	public static boolean isPackageExportedTo(PackageBinding pkg, ModuleBinding source, ModuleBinding client) {
		if (client == null || client == source) // same or unnamed
			return true;
		if (!client.dependsOn(source))
			return false;
		for (IPackageExport export : source.exportedPackages) {
			if (CharOperation.equals(export.name(), pkg.readableName())) {
				if (export.exportedTo() != null) {
					for (char[] target : export.exportedTo()) {
						if (CharOperation.equals(target, client.moduleName))
							return true;
					}
				}
			}
		}
		return false;
	}

