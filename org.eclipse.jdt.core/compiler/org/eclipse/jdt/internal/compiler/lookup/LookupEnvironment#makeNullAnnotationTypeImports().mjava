protected ImportBinding[] makeNullAnnotationTypeImports() {
	char[][] nullableAnnotationName = this.globalOptions.nullableAnnotationName;
	char[][] nonNullAnnotationName = this.globalOptions.nonNullAnnotationName;
	if (nullableAnnotationName == null || nonNullAnnotationName == null) {
		if (this.globalOptions.emulateNullAnnotationTypes || this.globalOptions.defaultImportNullAnnotationTypes)
			// shouldn't happen by construction of CompilerOptions.set(Map)
			this.problemReporter.abortDueToInternalError("Inconsistent null annotation options"); //$NON-NLS-1$
		return new ImportBinding[0];
	}
	// fetch annotation types for emulation and/or default import:
	ReferenceBinding nullableAnnotationType = null;
	ReferenceBinding nonNullAnnotationType = null;
	if (this.globalOptions.emulateNullAnnotationTypes) {
		nullableAnnotationType = makeNullAnnotationType(nullableAnnotationName, TypeIds.T_ConfiguredAnnotationNullable);
		nonNullAnnotationType  = makeNullAnnotationType(nonNullAnnotationName, TypeIds.T_ConfiguredAnnotationNonNull);
	} else { // not emulated means those types should exist (and need to be marked):
		nullableAnnotationType = getType(nullableAnnotationName);
		if (nullableAnnotationType != null && nullableAnnotationType.isValidBinding())
			nullableAnnotationType.id = TypeIds.T_ConfiguredAnnotationNullable;
		else if (this.globalOptions.defaultImportNullAnnotationTypes)
			this.problemReporter.missingNullAnnotationType(nullableAnnotationName);

		nonNullAnnotationType  = getType(nonNullAnnotationName);
		if (nonNullAnnotationType != null && nonNullAnnotationType.isValidBinding())
			nonNullAnnotationType.id = TypeIds.T_ConfiguredAnnotationNonNull;
		else if (this.globalOptions.defaultImportNullAnnotationTypes)
			this.problemReporter.missingNullAnnotationType(nonNullAnnotationName);
	}
	if (this.globalOptions.defaultImportNullAnnotationTypes)
		return new ImportBinding[] {
				new ImportBinding(nullableAnnotationName, false, nullableAnnotationType, null),
				new ImportBinding(nonNullAnnotationName, false, nonNullAnnotationType, null)
		};
	return new ImportBinding[0];
}

