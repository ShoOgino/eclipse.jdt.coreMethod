void recordTypeReference(TypeBinding type) {
	if (qualifiedReferences == null) return; // we're not recording dependencies

	if (type.isArrayType())
		type = ((ArrayBinding) type).leafComponentType;
	if (!type.isBaseType()) {
		ReferenceBinding actualtype = (ReferenceBinding) type;
		recordReference(actualtype.compoundName);
		if (actualtype.enclosingType() != null)
			recordTypeReference(actualtype.enclosingType());
		if (actualtype.superclass() != null)
			recordTypeReference(actualtype.superclass());
		ReferenceBinding[] interfaces = actualtype.superInterfaces();
		if (interfaces != null && interfaces.length > 0)
			for (int j = 0, length = interfaces.length; j < length; j++)
				recordTypeReference(interfaces[j]);
	}
}

