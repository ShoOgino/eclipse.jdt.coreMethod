/**
 * Code responsible to request some more emulation work inside the invocation type, so as to supply
 * correct synthetic arguments to any allocation of the target type.
 */
public void propagateInnerEmulation(ReferenceBinding targetType, boolean isEnclosingInstanceSupplied, boolean useDirectReference) {

	// perform some emulation work in case there is some and we are inside a local type only
	// propage emulation of the enclosing instances

	ReferenceBinding[] syntheticArgumentTypes;
	if ((syntheticArgumentTypes = targetType.syntheticEnclosingInstanceTypes()) != null) {
		for (int i = 0, max = syntheticArgumentTypes.length; i < max; i++) {
			ReferenceBinding syntheticArgType = syntheticArgumentTypes[i];
			// need to filter out the one that could match a supplied enclosing instance
			if (!(isEnclosingInstanceSupplied && (syntheticArgType == targetType.enclosingType()))) {
				this.emulateOuterAccess(syntheticArgType, useDirectReference);
			}
		}
	}
	SyntheticArgumentBinding[] syntheticArguments;
	if ((syntheticArguments = targetType.syntheticOuterLocalVariables()) != null) {
		for (int i = 0, max = syntheticArguments.length; i < max; i++) {
			SyntheticArgumentBinding syntheticArg = syntheticArguments[i];
			// need to filter out the one that could match a supplied enclosing instance
			if (!(isEnclosingInstanceSupplied && (syntheticArg.type == targetType.enclosingType()))) {
				this.emulateOuterAccess(syntheticArg.actualOuterLocalVariable);
			}
		}
	}
}
/* Answer the reference type of this scope.
*
* i.e. the nearest enclosing type of this scope.
*/

