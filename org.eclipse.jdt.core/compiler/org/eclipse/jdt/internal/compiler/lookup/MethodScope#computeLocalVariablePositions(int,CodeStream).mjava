	/* Compute variable positions in scopes given an initial position offset
	 * ignoring unused local variables.
	 * 
	 * Special treatment to have Try secret return address variables located at non
	 * colliding positions. Return addresses are not allocated initially, but gathered
	 * and allocated behind all other variables.
	 */
	public void computeLocalVariablePositions(
		int initOffset,
		CodeStream codeStream) {

		super.computeLocalVariablePositions(initOffset, codeStream);
		
		// iterate over possible return addresses rooted at the method scope level, which
		// have no resolvedPosition yet, and assign them to positions at maxOffset and beyond
		for (int i = 0; i < this.localIndex; i++) {
			LocalVariableBinding local = locals[i];
			if (local.name == TryStatement.SecretReturnName 
				&& local.resolvedPosition != -1){
					
				local.resolvedPosition = this.maxOffset++;
				// check for too many arguments/local variables
				if (this.maxOffset > 0xFFFF) { // no more than 65535 words of locals
					this.problemReporter().noMoreAvailableSpaceForLocal(
						local, local.declaration == null ? (AstNode)this.methodScope().referenceContext : local.declaration);
				}				
			}
		}
	}

