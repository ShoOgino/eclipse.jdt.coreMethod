public long typeAnnotationsToTagBits(IBinaryAnnotation[] annotations) {
	long tagBits = 0;
	for (int i = 0; i < annotations.length; i++) {
		char[] typeName = annotations[i].getTypeName();
		if (qualifiedNameMatchesSignature(getNonNullAnnotationName(), typeName)) {
			tagBits |= TagBits.AnnotationNonNull;
		} else if (qualifiedNameMatchesSignature(getNullableAnnotationName(), typeName)) {
			tagBits |= TagBits.AnnotationNullable;
		}
		// TODO(stephan): detect conflict
	}
	return tagBits;
}

