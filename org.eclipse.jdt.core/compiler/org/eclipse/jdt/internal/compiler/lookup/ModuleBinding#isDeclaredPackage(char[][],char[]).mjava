	/**
	 * Does this module declare a package by the given name and qualified by the given parentPackageName?
	 * In JLS diction a declared package is "associated" with this module.
	 */
	private boolean isDeclaredPackage(char[][] parentPackageName, char[] name) {
		char[] qualifiedPackageName = CharOperation.concatWith(parentPackageName, name, '.');
		PackageBinding declared = this.declaredPackages.get(qualifiedPackageName);
		if (declared != null) {
			return declared != LookupEnvironment.TheNotFoundPackage;
		}
		INameEnvironment nameEnvironment = this.environment.nameEnvironment;
		if (this.environment.useModuleSystem) {
			IModuleAwareNameEnvironment moduleEnv = (IModuleAwareNameEnvironment)nameEnvironment;
			return moduleEnv.getModulesDeclaringPackage(parentPackageName, name, this.moduleName) != null;
		} else {
			return nameEnvironment.isPackage(parentPackageName, name);
		}
	}

