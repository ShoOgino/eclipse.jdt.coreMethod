	/**
	 * Returns this parser's problem reporter initialized with its reference context.
	 * Also it is assumed that a problem is going to be reported, so initializes
	 * the compilation result's line positions.
	 */
	public ProblemReporter problemReporter() {
		if (scanner.recordLineSeparator) {
			compilationUnit.compilationResult.lineSeparatorPositions = scanner.lineEnds();
		}
		problemReporter.referenceContext = referenceContext;
		return problemReporter;
	}

