public int getNextToken() throws InvalidInputException {
	
	int token;
	if (this.nextToken != TokenNameNotAToken) {
		token = this.nextToken;
		this.nextToken = TokenNameNotAToken;
		return token; // presumed to be unambiguous.
	}
	
	token = getNextToken0();
	if (!this.scanningJava8Plus || this.activeParser == null) {
		return token;  // no audience, no magic.
	}

	if (token == TokenNameLPAREN && this.activeParser.atConflictScenario(token)) {
		if (atLambdaParameterList()) {
			this.nextToken = token;
			token = TokenNameBeginLambda;
		}
	} else if (token == TokenNameLESS && this.activeParser.atConflictScenario(token)) {
		if (atReferenceExpression()) {
			this.nextToken = token;
			token = TokenNameBeginTypeArguments;
		}
	}
	return token;
}

