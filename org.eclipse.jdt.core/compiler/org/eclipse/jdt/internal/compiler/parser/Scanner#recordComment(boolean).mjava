	public final void recordComment(boolean isJavadoc) {

		// a new annotation comment is recorded
		try {
			commentStops[++commentPtr] = isJavadoc ? currentPosition : -currentPosition;
		} catch (IndexOutOfBoundsException e) {
			int oldStackLength = commentStops.length;
			int[] oldStack = commentStops;
			commentStops = new int[oldStackLength + 30];
			System.arraycopy(oldStack, 0, commentStops, 0, oldStackLength);
			commentStops[commentPtr] = isJavadoc ? currentPosition : -currentPosition;
			//grows the positions buffers too
			int[] old = commentStarts;
			commentStarts = new int[oldStackLength + 30];
			System.arraycopy(old, 0, commentStarts, 0, oldStackLength);
		}

		//the buffer is of a correct size here
		commentStarts[commentPtr] = startPosition;
	}

