	protected void pushOnExpressionStack(Expression expr) {

		try {
			expressionStack[++expressionPtr] = expr;
		} catch (IndexOutOfBoundsException e) {
			//expressionPtr is correct 
			int oldStackLength = expressionStack.length;
			Expression[] oldStack = expressionStack;
			expressionStack = new Expression[oldStackLength + ExpressionStackIncrement];
			System.arraycopy(oldStack, 0, expressionStack, 0, oldStackLength);
			expressionStack[expressionPtr] = expr;
		}

		try {
			expressionLengthStack[++expressionLengthPtr] = 1;
		} catch (IndexOutOfBoundsException e) {
			int oldStackLength = expressionLengthStack.length;
			int[] oldPos = expressionLengthStack;
			expressionLengthStack = new int[oldStackLength + ExpressionStackIncrement];
			System.arraycopy(oldPos, 0, expressionLengthStack, 0, oldStackLength);
			expressionLengthStack[expressionLengthPtr] = 1;
		}
	}

