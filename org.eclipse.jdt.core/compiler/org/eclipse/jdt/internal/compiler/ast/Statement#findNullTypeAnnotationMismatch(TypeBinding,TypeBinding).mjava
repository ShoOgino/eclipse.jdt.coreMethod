protected int findNullTypeAnnotationMismatch(TypeBinding requiredType, TypeBinding providedType) {
	int severity = 0;
	if (requiredType instanceof ArrayBinding) {
		long[] requiredDimsTagBits = ((ArrayBinding)requiredType).nullTagBitsPerDimension;
		if (requiredDimsTagBits != null) {
			int dims = requiredType.dimensions();
			if (requiredType.dimensions() == providedType.dimensions()) {
				long[] providedDimsTagBits = ((ArrayBinding)providedType).nullTagBitsPerDimension;
				if (providedDimsTagBits == null) {
					severity = 1; // required is annotated, provided not, need unchecked conversion
				} else {
					for (int i=0; i<dims; i++) {
						long requiredBits = requiredDimsTagBits[i] & TagBits.AnnotationNullMASK;
						long providedBits = providedDimsTagBits[i] & TagBits.AnnotationNullMASK;
						if (requiredBits != 0 && requiredBits != providedBits) {
							if (providedBits == 0)
								severity = 1; // need unchecked conversion regarding type detail
							else
								return 2; // mismatching annotations
						}
					}
				}
			}
		}
	}
	return severity;
}

