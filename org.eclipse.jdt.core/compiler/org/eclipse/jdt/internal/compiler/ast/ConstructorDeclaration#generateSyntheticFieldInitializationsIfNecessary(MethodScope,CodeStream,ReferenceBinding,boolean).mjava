	public void generateSyntheticFieldInitializationsIfNecessary(
		MethodScope scope,
		CodeStream codeStream,
		ReferenceBinding declaringClass,
		boolean addNullCheckForEnclosingInstance) {
			
		if (!declaringClass.isNestedType()) return;
		
		NestedTypeBinding nestedType = (NestedTypeBinding) declaringClass;
		SourceTypeBinding enclosingType = nestedType.enclosingType;

		SyntheticArgumentBinding[] syntheticArgs = nestedType.syntheticEnclosingInstances();
		for (int i = 0, max = syntheticArgs == null ? 0 : syntheticArgs.length; i < max; i++) {
			SyntheticArgumentBinding syntheticArg;
			if ((syntheticArg = syntheticArgs[i]).matchingField != null) {
				codeStream.aload_0();
				codeStream.load(syntheticArg);
				if (enclosingType == syntheticArg.type && addNullCheckForEnclosingInstance) {
					codeStream.dup();
					codeStream.invokeObjectGetClass(); // causes null check
					codeStream.pop();
				}
				codeStream.putfield(syntheticArg.matchingField);
			}
		}
		syntheticArgs = nestedType.syntheticOuterLocalVariables();
		for (int i = 0, max = syntheticArgs == null ? 0 : syntheticArgs.length; i < max; i++) {
			SyntheticArgumentBinding syntheticArg;
			if ((syntheticArg = syntheticArgs[i]).matchingField != null) {
				codeStream.aload_0();
				codeStream.load(syntheticArg);
				codeStream.putfield(syntheticArg.matchingField);
			}
		}
	}

