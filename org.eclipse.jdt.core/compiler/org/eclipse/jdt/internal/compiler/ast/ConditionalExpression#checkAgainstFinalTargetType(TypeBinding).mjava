	public TypeBinding checkAgainstFinalTargetType(TypeBinding targetType) {
		// in 1.8 if treated as a poly expression:
		if (isPolyExpression()) {
			TypeBinding valueIfTrueType = this.valueIfTrue.checkAgainstFinalTargetType(targetType);
			TypeBinding valueIfFalseType = this.valueIfFalse.checkAgainstFinalTargetType(targetType);
			if (valueIfTrueType != null) {
				if (!valueIfTrueType.isCompatibleWith(targetType, this.polyExpressionScope)) {
					this.polyExpressionScope.problemReporter().typeMismatchError(valueIfTrueType, targetType, this.valueIfTrue, null);
				} else {
					this.valueIfTrue.computeConversion(this.polyExpressionScope, targetType, this.originalValueIfTrueType);	
				}
			}
			if (valueIfFalseType != null) {
				if (!valueIfFalseType.isCompatibleWith(targetType, this.polyExpressionScope)) {
					this.polyExpressionScope.problemReporter().typeMismatchError(valueIfFalseType, targetType, this.valueIfFalse, null);
				} else {
					this.valueIfFalse.computeConversion(this.polyExpressionScope, targetType, this.originalValueIfFalseType);
				}
			}
			this.resolvedType = targetType;
		}
		return this.resolvedType;
	}

