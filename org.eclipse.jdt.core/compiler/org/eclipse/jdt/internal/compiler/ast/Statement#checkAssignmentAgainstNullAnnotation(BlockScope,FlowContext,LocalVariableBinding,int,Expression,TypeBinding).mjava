/** Check null-ness of 'local' against a possible null annotation */
protected int checkAssignmentAgainstNullAnnotation(BlockScope currentScope, FlowContext flowContext,
												   LocalVariableBinding local, int nullStatus, Expression expression, TypeBinding providedType)
{
	if (local != null) {
		if ((local.tagBits & TagBits.AnnotationNonNull) != 0
				&& nullStatus != FlowInfo.NON_NULL) {
			flowContext.recordNullityMismatch(currentScope, expression, providedType, local.type, nullStatus);
			return FlowInfo.NON_NULL;
		} else if ((local.tagBits & TagBits.AnnotationNullable) != 0
				&& nullStatus == FlowInfo.UNKNOWN) {	// provided a legacy type?
			return FlowInfo.POTENTIALLY_NULL;			// -> use more specific info from the annotation
		}
	}
	return nullStatus;
}

