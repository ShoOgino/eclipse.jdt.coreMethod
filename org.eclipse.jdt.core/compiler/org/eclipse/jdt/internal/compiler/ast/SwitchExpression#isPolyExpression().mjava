	@Override
	public boolean isPolyExpression() throws UnsupportedOperationException {

		if (this.isPolyExpression)
			return true;

		if (this.expressionContext != ASSIGNMENT_CONTEXT && this.expressionContext != INVOCATION_CONTEXT)
			return false;
		
		for (TypeBinding tmp : this.originalValueResultExpressionTypes)
			if (tmp == null) // resolution error.
				return false;
		
		for (SwitchExprArm arm : this.exprArms)
			if (arm.isPolyExpression())
				return true;
		
		// "... unless all arms produce primitives (or boxed primitives)":	
		boolean allPrimitives = true;
		for (TypeBinding tmp : this.originalValueResultExpressionTypes) {
			allPrimitives &= tmp.isBaseType() || (tmp.id >= TypeIds.T_JavaLangByte && tmp.id <= TypeIds.T_JavaLangBoolean);
		}
		if (!allPrimitives)
			return false;

		return this.isPolyExpression = true;
	}

