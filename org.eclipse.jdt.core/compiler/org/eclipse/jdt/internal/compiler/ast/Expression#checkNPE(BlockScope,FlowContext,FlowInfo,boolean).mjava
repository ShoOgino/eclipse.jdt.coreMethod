/**
 * Check the local variable of this expression, if any, against potential NPEs 
 * given a flow context and an upstream flow info. If so, report the risk to
 * the context. Marks the local as checked, which affects the flow info.
 * @param scope the scope of the analysis
 * @param flowContext the current flow context
 * @param flowInfo the upstream flow info; caveat: may get modified
 * @param checkString if true, a local variable of type String is checked; else
 *        it is skipped
 */
public void checkNPE(BlockScope scope, FlowContext flowContext, 
		FlowInfo flowInfo, boolean checkString) {
	LocalVariableBinding local = this.localVariableBinding();
	if (local != null && 
			(local.type.tagBits & TagBits.IsBaseType) == 0 &&
			(checkString || local.type.id != T_JavaLangString)) {
		if ((this.bits & IsNonNull) == 0) {
			flowContext.recordUsingNullReference(scope, local, this, 
					FlowContext.MAY_NULL, flowInfo);
		}
		flowInfo.markAsComparedEqualToNonNull(local); 
			// from thereon it is set
	}
}

