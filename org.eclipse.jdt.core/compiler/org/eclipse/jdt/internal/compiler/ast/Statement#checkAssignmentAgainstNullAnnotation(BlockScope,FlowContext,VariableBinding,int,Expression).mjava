/** Check null-ness of 'local' against a possible null annotation */
protected int checkAssignmentAgainstNullAnnotation(BlockScope currentScope, FlowContext flowContext,
												   VariableBinding var, int nullStatus, Expression expression)
{
	if (var != null) {
		if ((var.tagBits & TagBits.AnnotationNonNull) != 0
				&& nullStatus != FlowInfo.NON_NULL) {
			flowContext.recordNullityMismatch(currentScope, expression, nullStatus, var.type);
			return FlowInfo.NON_NULL;
		} else if ((var.tagBits & TagBits.AnnotationNullable) != 0
				&& nullStatus == FlowInfo.UNKNOWN) {	// provided a legacy type?
			return FlowInfo.POTENTIALLY_NULL;			// -> use more specific info from the annotation
		}
	}
	return nullStatus;
}

