/**
 * Code generation for QualifiedThisReference
 *
 * @param currentScope org.eclipse.jdt.internal.compiler.lookup.BlockScope
 * @param codeStream org.eclipse.jdt.internal.compiler.codegen.CodeStream
 * @param valueRequired boolean
 */
public void generateCode(BlockScope currentScope, CodeStream codeStream, boolean valueRequired) {
	int pc = codeStream.position;
	if (valueRequired) {
		if ((bits & DepthMASK) != 0) {
			Object[] emulationPath = currentScope.getExactEmulationPath(currentCompatibleType);
			if (emulationPath == null) {
				// internal error, per construction we should have found it
				currentScope.problemReporter().needImplementation();
			} else {
				codeStream.generateOuterAccess(emulationPath, this, currentScope);
			}
		} else {
			// nothing particular after all
			codeStream.aload_0();
		}
	}
	codeStream.recordPositionsFrom(pc, this.sourceStart);
}

