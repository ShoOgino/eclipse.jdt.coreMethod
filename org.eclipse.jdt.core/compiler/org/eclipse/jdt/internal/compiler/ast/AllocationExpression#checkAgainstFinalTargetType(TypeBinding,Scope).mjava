public TypeBinding checkAgainstFinalTargetType(TypeBinding targetType, Scope scope) {
	if (this.binding == null && this.suspendedResolutionState != null && !this.suspendedResolutionState.hasReportedError) {
		// Attempt to resolve half resolved diamond
		resolvePart2(this.suspendedResolutionState);
	}
	// confer MessageSend.checkAgainstFinalTargetType(,,):
	if (this.binding instanceof ParameterizedMethodBinding) {
		InferenceContext18 ctx = getInferenceContext((ParameterizedMethodBinding) this.binding);
		if (ctx != null && ctx.stepCompleted < InferenceContext18.TYPE_INFERRED) {
			this.typeExpected = targetType;
			if (this.binding instanceof ParameterizedGenericMethodBinding) {
				MethodBinding updatedBinding = ctx.inferInvocationType(this,
						(ParameterizedGenericMethodBinding) this.binding);
				if (updateBindings(updatedBinding, targetType)) {
					ASTNode.resolvePolyExpressionArguments(this, updatedBinding, scope);
				}
			} else {
				ctx.rebindInnerPolies(this.binding, this);
			}
		}
	}
	if (this.suspendedResolutionState != null) {
		return resolvePart3(this.suspendedResolutionState);
	}
	return this.resolvedType;
}

