	public void generateCode(BlockScope currentScope, CodeStream codeStream, boolean valueRequired) {
		
		this.ordinal = currentScope.enclosingSourceType().addLambdaMethod(this);
		this.binding.selector = CharOperation.concat(TypeConstants.ANONYMOUS_METHOD, Integer.toString(this.ordinal).toCharArray());
		int pc = codeStream.position;
		int invokeDynamicNumber = codeStream.classFile.recordBootstrapMethod(this);
		StringBuffer signature = new StringBuffer();
		signature.append('(');
		for (int i = 0, length = this.outerLocalVariables == null ? 0 : this.outerLocalVariables.length; i < length; i++) {
			signature.append(this.outerLocalVariables[i].type.signature());
			LocalVariableBinding capturedOuterLocal = this.outerLocalVariables[i].actualOuterLocalVariable;
			VariableBinding[] path = currentScope.getEmulationPath(capturedOuterLocal);
			codeStream.generateOuterAccess(path, this, capturedOuterLocal, currentScope);
		}
		signature.append(')');
		signature.append(this.descriptor.declaringClass.signature());
		codeStream.invokeDynamic(invokeDynamicNumber, this.outerLocalVariablesSlotSize, 1, TypeConstants.ANONYMOUS_METHOD, signature.toString().toCharArray());
		codeStream.recordPositionsFrom(pc, this.sourceStart);		
	}

