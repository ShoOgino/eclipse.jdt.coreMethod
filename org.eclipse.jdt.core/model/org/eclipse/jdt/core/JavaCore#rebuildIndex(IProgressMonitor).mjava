	/**
	 * Deletes and rebuilds the java index.
	 * 
	 * @param monitor a progress monitor, or <code>null</code> if progress
	 *    reporting and cancellation are not desired
	 * @throws CoreException 
	 * @since 3.14
	 */
	public static void rebuildIndex(IProgressMonitor monitor) throws CoreException {
		SubMonitor subMonitor = SubMonitor.convert(monitor, 10);
		IndexManager manager = JavaModelManager.getIndexManager();
		subMonitor.split(1);
		manager.deleteIndexFiles();
		manager.reset();
		Indexer.getInstance().rebuildIndex(subMonitor.split(7));
		updateLegacyIndex(subMonitor.split(2));
	}

