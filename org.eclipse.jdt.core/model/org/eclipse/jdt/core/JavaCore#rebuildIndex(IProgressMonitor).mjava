	/**
	 * Deletes and rebuilds the java index.
	 * 
	 * @param monitor a progress monitor, or <code>null</code> if progress
	 *    reporting and cancellation are not desired
	 * @throws CoreException 
	 * @since 3.13
	 */
	public static void rebuildIndex(IProgressMonitor monitor) throws CoreException {
		SubMonitor subMonitor = SubMonitor.convert(monitor, 100);
		IndexManager manager = JavaModelManager.getIndexManager();
		manager.deleteIndexFiles(subMonitor.split(3));
		manager.reset();
		Indexer.getInstance().rebuildIndex(subMonitor.split(90));
		updateLegacyIndex(subMonitor.split(7));
	}

