private void updateCurrentDeltaAndIndex(Openable element, IResourceDelta delta) {
	switch (delta.getKind()) {
		case IResourceDelta.ADDED :
			updateIndex(element, delta);
			elementAdded(element, delta);
			break;
		case IResourceDelta.REMOVED :
			updateIndex(element, delta);
			elementRemoved(element, delta);
			break;
		case IResourceDelta.CHANGED :
			int flags = delta.getFlags();
			if ((flags & IResourceDelta.CONTENT) != 0) {
				updateIndex(element, delta);
				contentChanged(element, delta);
			} else if ((flags & IResourceDelta.OPEN) != 0) {
				updateIndex(element, delta);
				if (isOpen(delta.getResource())) {
					elementOpened(element, delta);
				} else {
					elementClosed(element, delta);
				}
			}
			break;
	}
}

