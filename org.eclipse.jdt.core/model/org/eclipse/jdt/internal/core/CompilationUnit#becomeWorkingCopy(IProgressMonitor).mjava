/*
 * @see ICompilationUnit#becomeWorkingCopy
 */
public void becomeWorkingCopy(IProgressMonitor monitor) throws JavaModelException {
	JavaModelManager manager = JavaModelManager.getJavaModelManager();
	Object info = manager.getInfo(this);
	if (info instanceof WorkingCopyElementInfo) {
		((WorkingCopyElementInfo)info).incrementUseCount();
	} else {
		if (info != null) {
			// close cu and its children
			close();
			
			// remove compilation unit info for the owner
			manager.removeInfoAndChildren(this);
		}
		BecomeWorkingCopyOperation operation = new BecomeWorkingCopyOperation(this, null);
		runOperation(operation, null);
	}
}

