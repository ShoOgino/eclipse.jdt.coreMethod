	HashtableOfArrayToObject getAllPackageFragments(JavaProject project) {
		if (this.allPkgFragmentsCache == null) {
			HashtableOfArrayToObject cache = new HashtableOfArrayToObject();
			IPackageFragmentRoot[] roots = getAllPackageFragmentRoots(project);
			IPackageFragment[] frags = this.getPackageFragmentsInRoots(roots, project);
			for (int i= 0; i < frags.length; i++) {
				PackageFragment fragment= (PackageFragment) frags[i];
				String[] pkgName = fragment.names;
				IPackageFragment[] entry= (IPackageFragment[]) cache.get(pkgName);
				if (entry == null) {
					entry= new IPackageFragment[1];
					entry[0]= fragment;
					cache.put(pkgName, entry);
				} else {
					IPackageFragment[] copy= new IPackageFragment[entry.length + 1];
					System.arraycopy(entry, 0, copy, 0, entry.length);
					copy[entry.length]= fragment;
					cache.put(pkgName, copy);
				}
			}
			this.allPkgFragmentsCache = cache;
		}
		return this.allPkgFragmentsCache;
	}

