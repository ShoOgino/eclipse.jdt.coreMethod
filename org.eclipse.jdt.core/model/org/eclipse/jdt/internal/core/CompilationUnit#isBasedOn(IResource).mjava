/*
 * @see ICompilationUnit#isBasedOn(IResource)
 */
public boolean isBasedOn(IResource resource) {
	Object info = JavaModelManager.getJavaModelManager().getInfo(this);
	if (!(info instanceof WorkingCopyElementInfo)) return false;
	
	if (resource.getType() != IResource.FILE) {
		return false;
	}
	// if resource got deleted, then #getModificationStamp() will answer IResource.NULL_STAMP, which is always different from the cached
	// timestamp
	return ((WorkingCopyElementInfo)info).fTimestamp == ((IFile) resource).getModificationStamp();
}

