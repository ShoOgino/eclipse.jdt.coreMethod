/*
 * @see ICompilationUnit#isBasedOn(IResource)
 */
public boolean isBasedOn(IResource resource) {
	if (!isWorkingCopy()) return false;
	
	if (resource.getType() != IResource.FILE) {
		return false;
	}
	// if resource got deleted, then #getModificationStamp() will answer IResource.NULL_STAMP, which is always different from the cached
	// timestamp
	Object info = JavaModelManager.getJavaModelManager().getInfo(this);
	if (info == null) return false;
	return ((CompilationUnitElementInfo)info).timestamp == ((IFile) resource).getModificationStamp();
}

