/**
 * @see ISourceElementRequestor
 */
public void exitType(int declarationEnd) {
	TypeInfo typeInfo = (TypeInfo) this.infoStack.peek();
	if (typeInfo instanceof ModuleInfo) {
		SourceModule handle = (SourceModule) this.handleStack.peek();
		JavaProject proj = (JavaProject) handle.getAncestor(IJavaElement.JAVA_PROJECT);
		if (proj != null) {
			try {
				org.eclipse.jdt.internal.core.SourceModule moduleDecl = handle;
				org.eclipse.jdt.internal.core.ModuleDescriptionInfo info = createModuleInfo((ModuleInfo) typeInfo, moduleDecl);
				info.setSourceRangeEnd(declarationEnd);
				info.children = getChildren(info);
				this.unitInfo.setModule(moduleDecl);
				proj.setModuleDescription(moduleDecl);
			} catch (JavaModelException e) {
				// Unexpected while creating
			}
		}
	} else {
		SourceType handle = (SourceType) this.handleStack.peek();
		SourceTypeElementInfo info = createTypeInfo(typeInfo, handle);
		info.setSourceRangeEnd(declarationEnd);
		info.children = getChildren(typeInfo);
	}
	this.handleStack.pop();
	this.infoStack.pop();
}

