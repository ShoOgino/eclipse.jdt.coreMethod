/**
 * Traverses the delta making any working copies consistent
 */
protected void walkDeltaMakingWorkingCopiesConsistent(IJavaElementDelta delta) {
	if (delta.getElement().getElementType() == IJavaElement.COMPILATION_UNIT) {
		ICompilationUnit unit = (ICompilationUnit) delta.getElement();
		if (unit.isWorkingCopy()) {
			try {
				unit.makeConsistent(null);
			} catch (JavaModelException e) {
			}
		}
	} else {
		IJavaElementDelta[] deltas = delta.getAffectedChildren();
		for (int i = 0; i < deltas.length; i++) {
			walkDeltaMakingWorkingCopiesConsistent(deltas[i]);
		}
	}
}

