/**
 * @see IWorkingCopy
 */ 
public IMarker[] reconcile() throws JavaModelException {

	// create the delta builder (this remembers the current content of the cu)
	JavaElementDeltaBuilder deltaBuilder = new JavaElementDeltaBuilder(this);

	// update the element infos with the content of the working copy
	this.makeConsistent(null);

	// build the deltas
	deltaBuilder.buildDeltas();
	
	// fire the deltas
	if ((deltaBuilder.delta != null) && (deltaBuilder.delta.getAffectedChildren().length > 0)) {
		JavaModelManager.getJavaModelManager().
			fire(deltaBuilder.delta, ElementChangedEvent.POST_RECONCILE);
	}

	return null;
}

