	/**
	 * @see org.eclipse.jdt.core.IJavaProject#setOptions(Map)
	 */
	public void setOptions(Map newOptions) {

		Preferences preferences;
		setPreferences(preferences = new Preferences()); // always reset (26255)
		if (newOptions != null){
			Iterator keys = newOptions.keySet().iterator();
			while (keys.hasNext()){
				String key = (String)keys.next();
				// TODO (frederic) remove when jdt-ui will change to new values
				String newKey = key;
				if (key.equals(JavaCore.OLD_COMPILER_PB_INVALID_ANNOTATION)) {
					newKey = JavaCore.COMPILER_PB_INVALID_JAVADOC;
				}
				if (key.equals(JavaCore.OLD_COMPILER_PB_MISSING_ANNOTATION)) {
					newKey = JavaCore.COMPILER_PB_MISSING_JAVADOC;
				}
				// end to do
				if (!JavaModelManager.OptionNames.contains(newKey)) continue; // unrecognized option
				// no filtering for encoding (custom encoding for project is allowed)
				String value = (String)newOptions.get(key);
				preferences.setDefault(newKey, CUSTOM_DEFAULT_OPTION_VALUE); // empty string isn't the default (26251)
				preferences.setValue(newKey, value);
			}
		}
		
		// persist options
		savePreferences(preferences);	
	}

