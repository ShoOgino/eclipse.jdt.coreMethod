protected void finishedWith(String location, CompilationResult result, char[][] additionalTypeNames) throws CoreException {
	char[][] previousTypeNames = (char[][]) newState.getAdditionalTypeNamesFor(location);
	if (previousTypeNames != null) {
		next : for (int i = 0, x = previousTypeNames.length; i < x; i++) {
			char[] previous = previousTypeNames[i];
			for (int j = 0, y = additionalTypeNames.length; j < y; j++)
				if (CharOperation.equals(previous, additionalTypeNames[j])) continue next;

			IPath path = new Path(location);
			path = path.removeLastSegments(1).append(new String(previous)).addFileExtension(JavaBuilder.CLASS_EXTENSION);
			IResource resource = javaBuilder.workspaceRoot.getFileForLocation(path);
			resource.delete(true, null);
		}
	}
	super.finishedWith(location, result, additionalTypeNames);
}

