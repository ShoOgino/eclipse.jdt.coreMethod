/*
 * @see JavaElement#openWhenClosed
 */
protected Object openWhenClosed(HashMap newElements, IProgressMonitor pm) throws JavaModelException {

	if (JavaModelManager.VERBOSE){
		System.out.println("OPENING Element ("+ Thread.currentThread()+"): " + this.toStringWithAncestors()); //$NON-NLS-1$//$NON-NLS-2$
	}
	
	// 1) Parent must be open - open the parent if necessary
	openParent(newElements, pm);

	// 2) create the new element info
	OpenableElementInfo info = createElementInfo();

	// 3) build the structure of the openable (this will open the buffer if needed)
	buildStructure(info, newElements, pm);

	if (JavaModelManager.VERBOSE) {
		System.out.println("-> Package cache size = " + JavaModelManager.getJavaModelManager().cache.pkgSize()); //$NON-NLS-1$
		System.out.println("-> Openable cache filling ratio = " + JavaModelManager.getJavaModelManager().cache.openableFillingRatio() + "%"); //$NON-NLS-1$//$NON-NLS-2$
	}
	
	return info;
}

