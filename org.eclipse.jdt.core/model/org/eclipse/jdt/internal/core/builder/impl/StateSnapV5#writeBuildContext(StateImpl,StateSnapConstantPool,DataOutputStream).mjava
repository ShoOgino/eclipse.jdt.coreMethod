	/** 
	 * Write the build context.
	 */
	protected void writeBuildContext(
		StateImpl state,
		StateSnapConstantPool pool,
		DataOutputStream out)
		throws IOException {
		out.writeUTF("BuildContext");
		IImageContext ctx = state.getBuildContext();
		if (ctx == null) {
			out.writeInt(-1);
		} else {
			IPackage[] pkgs = ctx.getPackages();
			out.writeInt(pkgs.length);
			for (int i = 0; i < pkgs.length; ++i) {
				out.writeInt(pool.index(pkgs[i]));
			}
		}
	}

