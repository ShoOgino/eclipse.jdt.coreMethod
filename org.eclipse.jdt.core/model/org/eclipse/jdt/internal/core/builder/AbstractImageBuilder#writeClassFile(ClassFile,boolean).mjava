protected char[] writeClassFile(ClassFile classFile, boolean isSecondaryType) throws CoreException {
	String fileName = new String(classFile.fileName()); // the qualified type name "p1/p2/A"
	IPath filePath = new Path(fileName);
	IContainer container = outputFolder;
	if (filePath.segmentCount() > 1) {
		container = getOutputFolder(filePath.removeLastSegments(1));
		filePath = new Path(filePath.lastSegment());
	}

	IFile file = container.getFile(filePath.addFileExtension(JavaBuilder.CLASS_EXTENSION));
	writeClassFileBytes(classFile.getBytes(), file, fileName, isSecondaryType);
	// answer the name of the class file as in Y or Y$M
	return filePath.lastSegment().toCharArray();
}

