/**
 * Check whether the build has been canceled.
 * Must use this call instead of checkCancel() when within the compiler.
 */
public void checkCancelWithinCompiler() {
	if (cancelling) return;
	if ((monitor != null && monitor.isCanceled()) || (builder != null && builder.checkInterrupted())) {
		// Once the compiler has been canceled, don't check again.
		setCancelling(true);
		// Only AbortCompilation can stop the compiler cleanly.
		// We check cancellation again following the call to compile.
		throw new AbortCompilation(true, null); 
	}
}

