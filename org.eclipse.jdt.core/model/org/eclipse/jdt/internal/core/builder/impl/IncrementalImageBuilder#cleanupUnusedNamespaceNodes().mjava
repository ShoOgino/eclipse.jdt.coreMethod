/**
 * Removals and recompilations can leave unused namespace nodes in the 
 * dependency graph.  Clean them up. 
 */
protected void cleanupUnusedNamespaceNodes() {
	if (fRemovedClasses.size() > 0 || fChangedClasses.size() > 0) {
		PackageMap packageMap = fNewState.getPackageMap();
		DependencyGraph graph = fNewState.getInternalDependencyGraph();
		Vector unused = graph.getUnusedNamespaceNodes();
		for (Enumeration e = unused.elements(); e.hasMoreElements();) {
			NamespaceNode node = (NamespaceNode) e.nextElement();
			IPackage pkg = node.getPackage();
			if (!packageMap.containsPackage(pkg)) {
				graph.removePackage(pkg);
			}
		}
	}
}

