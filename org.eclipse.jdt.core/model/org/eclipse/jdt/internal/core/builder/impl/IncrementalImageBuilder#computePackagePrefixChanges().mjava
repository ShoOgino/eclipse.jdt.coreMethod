/**
 * Compute the added and removed package prefixes (not actual packages)
 * and issue the appropriate indictments on the namespaces.
 */
protected void computePackagePrefixChanges() {
	Hashtable oldTable = computePackagePrefixes(fOldState.getPackageMap());
	Hashtable newTable = computePackagePrefixes(fNewState.getPackageMap());
	for (Enumeration e = oldTable.elements(); e.hasMoreElements();) {
		String name = (String) e.nextElement();
		if (newTable.remove(name) == null) {
			int lastDot = name.lastIndexOf('.');
			if (lastDot != -1) {
				String parentName = name.substring(0, lastDot);
				String simpleName = name.substring(lastDot + 1);
				IPackage parentPkg = fDC.getImage().getPackageHandle(parentName, false);
				IndictmentSet indictments = new IndictmentSet();
				indictments.add(Indictment.createTypeIndictment(simpleName));
				issueIndictments(parentPkg, indictments, false);
			}
		}
	}
	for (Enumeration e = newTable.elements(); e.hasMoreElements();) {
		String name = (String) e.nextElement();
		int lastDot = name.lastIndexOf('.');
		if (lastDot != -1) {
			String parentName = name.substring(0, lastDot);
			String simpleName = name.substring(lastDot + 1);
			IPackage parentPkg = fDC.getImage().getPackageHandle(parentName, false);
			IndictmentSet indictments = new IndictmentSet();
			indictments.add(Indictment.createTypeIndictment(simpleName));
			issueIndictments(parentPkg, indictments, false);
		}
	}
}

