/**
 * The given package is being added or removed. Make sure that no types
 * exist with the same name as this package.  If any such types
 * exist, mark them as needing compilation and add them to the
 * compile vector.
 */
protected void markOverlappingTypesAsNeedingCompile(IPackage pkg) {
	String pkgName = pkg.getName();
	int lastDot;
	while ((lastDot = pkgName.lastIndexOf('.')) > 0) {

		/* try to get a compilation unit for this package name */
		PackageElement element = fNewState.getCompilationUnitFromName(pkgName, fNewState.defaultPackageForProject());
		if (element != null) {
			fWorkQueue.add(element);
		}

		/* strip off a package level */
		pkgName = pkgName.substring(0, lastDot);
	}
}

