void copyFrom(State lastState) {
	try {
		this.knownPackageNames = null;
		this.buildNumber = lastState.buildNumber + 1;
		this.lastStructuralBuildTime = lastState.lastStructuralBuildTime;
		this.references = (SimpleLookupTable) lastState.references.clone();
		this.typeLocations = (SimpleLookupTable) lastState.typeLocations.clone();
	} catch (CloneNotSupportedException e) {
		this.references = new SimpleLookupTable(lastState.references.elementSize);
		Object[] keyTable = lastState.references.keyTable;
		Object[] valueTable = lastState.references.valueTable;
		for (int i = 0, l = keyTable.length; i < l; i++)
			if (keyTable[i] != null)
				this.references.put(keyTable[i], valueTable[i]);

		this.typeLocations = new SimpleLookupTable(lastState.typeLocations.elementSize);
		keyTable = lastState.typeLocations.keyTable;
		valueTable = lastState.typeLocations.valueTable;
		for (int i = 0, l = keyTable.length; i < l; i++)
			if (keyTable[i] != null)
				this.typeLocations.put(keyTable[i], valueTable[i]);
	}
}

