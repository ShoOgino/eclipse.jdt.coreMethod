	/**
	 * Returns the byte contents for a source entry.
	 */
	protected byte[] getElementContentBytes(SourceEntry entry) {
		if (entry.fZipEntryFileName != null) {
			ZipFile zipFile= null;
			try {
				IPath path= entry.getPath();
				JavaModelManager manager= (JavaModelManager) JavaModelManager.getJavaModelManager();
				zipFile= manager.getZipFile(path);
				if (zipFile == null) {
					return new byte[0];
				}
				ZipEntry zipEntry= zipFile.getEntry(entry.getZipEntryName());
				if (zipEntry == null) {
					return new byte[0];
				}
				return org.eclipse.jdt.internal.compiler.util.Util.getZipEntryByteContent(zipEntry, zipFile);
			} catch (CoreException e) {
				return new byte[0];
			} catch (IOException e) {
				return new byte[0];
			} finally {
				if (zipFile != null) {
					try {
						zipFile.close();
					} catch(IOException e) {
						// ignore
					}
				}
			}
		} else {
			IFile file= getFile(entry);
			try {
				// Fix for 1FVTLHB: ITPCORE:WINNT - Importing a project does not import class files
				JavaModelManager.getJavaModelManager().ensureLocal(file);
				return Util.getResourceContentsAsByteArray(file);
			} catch (CoreException e) {
				return fDevelopmentContext.getBinaryFromFileSystem(file);
			}
		}
	}

