protected void removeSecondaryTypes() throws CoreException {
	if (secondaryTypesToRemove != null) { // delayed deleting secondary types until the end of the compile loop
		for (int i = 0, length = secondaryTypesToRemove.size(); i < length; i++)
			removeClassFile((IPath) secondaryTypesToRemove.get(i));
		this.secondaryTypesToRemove = null;
		if (previousLocations != null && previousLocations.size() > 1)
			this.previousLocations = null; // cannot optimize recompile case when a secondary type is deleted
	}
}

