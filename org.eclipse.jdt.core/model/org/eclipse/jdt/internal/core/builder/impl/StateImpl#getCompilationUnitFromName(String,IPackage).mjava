	/**
	 * Given a compilation unit name from the compiler, and the default package which
	 * was active when it was produced, answer the corresponding CompilationUnit.
	 */
	protected PackageElement getCompilationUnitFromName(
		String name,
		IPackage defaultPackage) {
		int i = name.lastIndexOf('.');
		IPackage pkg;
		String simpleName;
		if (i == -1) {
			pkg = defaultPackage;
			simpleName = name;
		} else {
			pkg =
				fDevelopmentContext.getImage().getPackageHandle(name.substring(0, i), false);
			simpleName = name.substring(i + 1);
		}
		pkg = canonicalize(pkg);
		if (!fSourceElementTable.containsPackage(pkg)) {
			getSourceEntries(pkg);
		}
		SourceEntry entry =
			fSourceElementTable.getSourceEntry(pkg, simpleName + ".java");
		if (entry == null)
			return null;
		return new PackageElement(pkg, entry);
	}

