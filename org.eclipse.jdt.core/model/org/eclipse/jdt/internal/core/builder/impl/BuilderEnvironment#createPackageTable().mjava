	/**
	 * Create a table keyed by package name, including all package prefixes.
	 * If it's a real package, it maps to the handle, otherwise to null.
	 */
	void createPackageTable() {
		Hashtable table = new Hashtable();
		if (fDefaultPackage != null) {
			table.put(IPackageFragment.DEFAULT_PACKAGE_NAME, fDefaultPackage);
		}
		PackageMap packageMap = fState.getPackageMap();
		for (Enumeration e = packageMap.getAllPackages(); e.hasMoreElements();) {
			IPackage pkg = (IPackage) e.nextElement();
			if (!pkg.isUnnamed()) {
				String name = pkg.getName();
				table.put(name, pkg);
				int i = -1;
				while ((i = name.indexOf('.', i + 1)) != -1) {
					String prefix = name.substring(0, i);
					if (!table.containsKey(prefix)) {
						// don't overwrite if there's a real package with the same prefix
						table.put(prefix, prefix);
					}
				}
			}
		}
		fPackages = table;
	}

