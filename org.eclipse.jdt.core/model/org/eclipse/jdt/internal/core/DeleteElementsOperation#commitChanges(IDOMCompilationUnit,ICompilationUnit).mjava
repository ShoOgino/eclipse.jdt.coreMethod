/**
 * Saves the new contents of the compilation unit that has had
 * a member element deleted.
 */
protected void commitChanges(IDOMCompilationUnit cuDOM, ICompilationUnit cu) throws JavaModelException {
	// save the resources that need to be saved
	char[] newContents = cuDOM.getCharacters();
	if (newContents == null) {
		newContents = new char[0];
	}
	IBuffer buffer = cu.getBuffer();
	char[] bufferContents = buffer.getCharacters();
	char[] cuContents = org.eclipse.jdt.internal.core.Util.normalizeCRs(newContents, bufferContents);
	buffer.setContents(cuContents);
	cu.save(getSubProgressMonitor(1), fForce);
	this.hasModifiedResource = !cu.isWorkingCopy();
}

