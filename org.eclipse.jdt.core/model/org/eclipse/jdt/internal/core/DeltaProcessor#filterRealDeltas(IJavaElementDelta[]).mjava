/**
 * Filters the generated <code>JavaElementDelta</code>s to remove those
 * which should not be fired (because they don't represent a real change
 * in the Java Model).
 */
protected IJavaElementDelta[] filterRealDeltas(IJavaElementDelta[] deltas) {
	IJavaElementDelta[] realDeltas = new IJavaElementDelta[deltas.length];
	int index = 0;
	for (int i = 0; i < deltas.length; i++) {
		IJavaElementDelta delta = deltas[i];
		if (delta == null) {
			continue;
		}
		if (delta.getAffectedChildren().length > 0 ||
			delta.getKind() != IJavaElementDelta.CHANGED ||
			delta.getFlags() == IJavaElementDelta.F_CLOSED ||
			delta.getFlags() == IJavaElementDelta.F_OPENED) {

			realDeltas[index++] = delta;
		}
	}
	IJavaElementDelta[] result = new IJavaElementDelta[index];
	if (result.length > 0) {
		System.arraycopy(realDeltas, 0, result, 0, result.length);
	}
	return result;
}

