/*
 * Returns whether this package fragment root is on the classpath of its project.
 */
protected boolean isOnClasspath() {

	IJavaProject project = this.getJavaProject();

	if (this.getElementType() == IJavaElement.JAVA_PROJECT){
		return true;
	}
	
	IPath path = this.getPath();

	try {
		// special permission granted to project binary output (when using old builder)
		if (!JavaModelManager.USING_NEW_BUILDER && project.getOutputLocation().isPrefixOf(path)) { 
			return true;
		}
	
		// check package fragment root on classpath of its project
		IClasspathEntry[] classpath = project.getResolvedClasspath(true);	
		for (int i = 0, length = classpath.length; i < length; i++) {
			IClasspathEntry entry = classpath[i];
			if (entry.getPath().equals(path)) {
				return true;
			}
		}
	} catch(JavaModelException e){
		// could not read classpath, then assume it is outside
	}
	return false;

}

