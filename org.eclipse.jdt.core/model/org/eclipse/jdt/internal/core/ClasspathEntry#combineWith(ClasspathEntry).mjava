	/**
	 * Used to perform export/restriction propagation across referring projects/containers
	 */
	public ClasspathEntry combineWith(ClasspathEntry referringEntry) {
		if (referringEntry == null) return this;
		if (referringEntry.isExported() || referringEntry.getAccessRuleSet() != null || referringEntry.getExternalAnnotationPath() != null) {
			boolean combine = this.entryKind == CPE_SOURCE || referringEntry.combineAccessRules();
			IPath externalAnnotations = referringEntry.getExternalAnnotationPath(); // give precedence to this one
			if (externalAnnotations == null)
				externalAnnotations = getExternalAnnotationPath();
			return new ClasspathEntry(
								getContentKind(),
								getEntryKind(),
								getPath(),
								this.inclusionPatterns,
								this.exclusionPatterns,
								getSourceAttachmentPath(),
								getSourceAttachmentRootPath(),
								externalAnnotations,
								getOutputLocation(),
								referringEntry.isExported() || this.isExported, // duplicate container entry for tagging it as exported
								combine(referringEntry.getAccessRules(), getAccessRules(), combine),
								this.combineAccessRules,
								this.extraAttributes);
		}
		// no need to clone
		return this;
	}

