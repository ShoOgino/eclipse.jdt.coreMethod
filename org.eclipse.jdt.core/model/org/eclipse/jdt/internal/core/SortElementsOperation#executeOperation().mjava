	/**
	 * @see org.eclipse.jdt.internal.core.JavaModelOperation#executeOperation()
	 */
	protected void executeOperation() throws JavaModelException {
		try {
			beginTask(Util.bind("operation.sortelements"), getMainAmountOfWork()); //$NON-NLS-1$
			JavaElementDelta delta = newJavaElementDelta();
			ICompilationUnit unit = ((JavaElement)fElementsToProcess[0]).getCompilationUnit();
			IBuffer buffer = unit.getBuffer();
			if (buffer  == null) return;
			char[] bufferContents = buffer.getCharacters();
			processElement(unit,bufferContents);
			unit.save(null, false);
			boolean isWorkingCopy = unit.isWorkingCopy();
			if (!isWorkingCopy)
				this.setAttribute(HAS_MODIFIED_RESOURCE_ATTR, TRUE);
			worked(1);
			if (!isWorkingCopy) { // if unit is working copy, then save will have already fired the delta
				delta.changed(unit, IJavaElementDelta.F_CONTENT);
				addDelta(delta);
			} // else unit is created outside classpath
		} finally {
			done();
		}
	}

