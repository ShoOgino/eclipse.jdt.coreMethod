	private void updatePackageStatement(CompilationUnit astCU, String[] pkgName, IDocument document) throws JavaModelException {
		boolean defaultPackage = pkgName.length == 0;
		AST ast = astCU.getAST();
		ASTRewrite rewriter = ASTRewrite.create(ast);
		if (defaultPackage) {
			// remove existing package statement
			if (astCU.getPackage() != null)
				rewriter.set(astCU, CompilationUnit.PACKAGE_PROPERTY, null, null);
		} else {
			// add new package statement or replace existing
			org.eclipse.jdt.core.dom.PackageDeclaration pkg = ast.newPackageDeclaration();
			Name name = ast.newName(pkgName);
			pkg.setName(name);
			rewriter.set(astCU, CompilationUnit.PACKAGE_PROPERTY, pkg, null);
		}
 		TextEdit edits = rewriter.rewriteAST(document, null);
 		try {
	 		edits.apply(document);
 		} catch (BadLocationException e) {
 			throw new JavaModelException(e, IJavaModelStatusConstants.INVALID_CONTENTS);
 		}
	}

