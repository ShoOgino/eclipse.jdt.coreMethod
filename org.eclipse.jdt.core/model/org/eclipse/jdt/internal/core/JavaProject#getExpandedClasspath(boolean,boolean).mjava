	/**
	 * Internal variant which can create marker on project for invalid entries,
	 * it will also perform classpath expansion in presence of project prerequisites
	 * exporting their entries.
	 */
	public IClasspathEntry[] getExpandedClasspath(
		boolean ignoreUnresolvedVariable,
		boolean generateMarkerOnError)	throws JavaModelException {

		if (generateMarkerOnError)
			flushClasspathProblemMarkers();

		// expanded path is cached on its info
//		IClasspathEntry[] infoPath = getJavaProjectElementInfo().lastExpandedClasspath;
//		if (infoPath != null) return infoPath;
		
		ObjectVector accumulatedEntries = new ObjectVector();		
		computeExpandedClasspath(this, ignoreUnresolvedVariable, generateMarkerOnError, new HashSet(5), accumulatedEntries);
		
		IClasspathEntry[] expandedPath = new IClasspathEntry[accumulatedEntries.size()];
		accumulatedEntries.copyInto(expandedPath);
		
//		getJavaProjectElementInfo().lastExpandedClasspath = expandedPath;
		return expandedPath;
	}

