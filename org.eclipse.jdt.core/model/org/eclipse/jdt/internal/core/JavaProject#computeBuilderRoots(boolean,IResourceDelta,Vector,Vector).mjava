	private void computeBuilderRoots(boolean exportedOnly, IResourceDelta delta, Vector visitedProjects, Vector accumulatedRoots)
		throws JavaModelException {

		// avoid project cycles
		if (visitedProjects.contains(this)){
			return;
		}
		visitedProjects.add(this);

		IClasspathEntry[] classpath;
		classpath = getResolvedClasspath(true);
		IResource res;
		IJavaProject project;

		for (int i = 0; i < classpath.length; i++) {
			IClasspathEntry entry = classpath[i];
			if (!exportedOnly || entry.isExported()){
				computeBuilderRoots(entry, delta, visitedProjects, accumulatedRoots);
			}
		}
	}

