/**
 * @see ICodeAssist#codeComplete(int, ICompletionRequestor)
 */
public void codeComplete(int offset, ICompletionRequestor requestor) throws JavaModelException {
	String source = getSource();
	if (source != null) {
		String encoding = JavaCore.getOption(JavaCore.CORE_ENCODING);
		
		BasicCompilationUnit cu = 
			new BasicCompilationUnit(
				getSource().toCharArray(), 
				null,
				getElementName() + ".java", //$NON-NLS-1$
				encoding); 
		codeComplete(cu, cu, offset, requestor);
	}
}

