/**
 * Inserts the new classpath entry after the specified entry, in the give
 * projects info. This is done such that resources in this root can be
 * translated into JavaElement by the factory. The classpath is not persisted
 * until delta translation is complete.
 */
protected void addClasspathEntry(JavaProject project, IClasspathEntry after, IClasspathEntry newEntry) {
	try {
		IClasspathEntry[] cp = project.getRawClasspath();
		IClasspathEntry[] newPath = new IClasspathEntry[cp.length + 1];
		int j = 0;
		for (int i = 0; i < cp.length; i++) {
			newPath[j] = cp[i];
			if (cp[i].equals(after)) {
				j++;
				newPath[j] = newEntry;
			}
			j++;
		}
		((JavaProjectElementInfo)project.getElementInfo()).setRawClasspath(newPath);
		resetNonJavaResourcesForPackageFragmentRoots(project);
	} catch (JavaModelException e) {
		// nothing
	}

}

