/**
 * Helper method - returns the targeted item (IResource if internal or java.io.File if external), 
 * or null if unbound
 * Internal items must be referred to using container relative paths.
 */
public static Object getTarget(IContainer container, IPath path, boolean checkResourceExistence) {

	if (path == null) return null;
	
	String extension;
	if (JavaModelManager.ZIP_ACCESS_VERBOSE && (extension = path.getFileExtension()) != null 
		&& (extension.toLowerCase().equals("zip") || extension.toLowerCase().equals("jar"))) { //$NON-NLS-1$ //$NON-NLS-2$
			
		System.out.println("Getting target for " + path.toString() + " checkResourceExistence=" + checkResourceExistence); //$NON-NLS-1$ //$NON-NLS-2$
	}
	
	// lookup - inside the container
	IResource resource = container.findMember(path);
	if (resource != null){
		if (!checkResourceExistence ||resource.exists()) return resource;
		return null;
	}

	// lookup - outside the container
	File externalFile = new File(path.toOSString());
	if (!checkResourceExistence ||externalFile.exists()) return externalFile;
	return null;	
}

