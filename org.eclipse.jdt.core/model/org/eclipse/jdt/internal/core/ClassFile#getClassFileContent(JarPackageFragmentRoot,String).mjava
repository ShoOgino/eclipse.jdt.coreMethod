private byte[] getClassFileContent(JarPackageFragmentRoot root, String className) throws CoreException, IOException {
	byte[] contents = null;
	if (root.isJimage) {
		contents = org.eclipse.jdt.internal.compiler.util.Util.getClassfileContent(className);
	} else {
		ZipFile zip = root.getJar();
		try {
			ZipEntry ze = zip.getEntry(className);
			if (ze != null) {
				contents = org.eclipse.jdt.internal.compiler.util.Util.getZipEntryByteContent(ze, zip);
			}
		} finally {
			JavaModelManager.getJavaModelManager().closeZipFile(zip);
		}
	}
	return contents;
}

