private byte[] getClassFileContent(JarPackageFragmentRoot root, String className) throws CoreException, IOException {
	byte[] contents = null;
	if (root.isModule()) {
			contents = org.eclipse.jdt.internal.compiler.util.JimageUtil.getClassfileContent(
					new File(root.getPath().toOSString()),
					className,
					root.getElementName());
	} else {
		ZipFile zip = root.getJar();
		try {
			ZipEntry ze = zip.getEntry(className);
			if (ze != null) {
				contents = org.eclipse.jdt.internal.compiler.util.Util.getZipEntryByteContent(ze, zip);
			}
		} finally {
			JavaModelManager.getJavaModelManager().closeZipFile(zip);
		}
	}
	return contents;
}

