	/**
	 * @see IBuffer
	 */
	public void setContents(char[] contents, boolean convert) {
		if (!isReadOnly()) {
			String string = null;
			if (contents != null) {
				if (convert)
					contents = this.normalizeCRs(contents);
				string = new String(contents);
			}
			BufferChangedEvent event =
				new BufferChangedEvent(this, 0, this.getLength(), string);
			synchronized (fLock) {
				fContents = contents;
				fFlags |= F_HAS_UNSAVED_CHANGES;
				fGapStart = -1;
				fGapEnd = -1;
			}
			notifyChanged(event);
		}
	}

