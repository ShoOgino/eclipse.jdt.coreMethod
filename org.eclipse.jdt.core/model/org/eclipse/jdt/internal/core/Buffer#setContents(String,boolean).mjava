	/**
	 * @see IBuffer
	 */
	public void setContents(String contents, boolean convert) {
		if (!isReadOnly()) {
			char[] charContents = null;
			if (contents != null) {
				charContents = contents.toCharArray();
				if (convert) {
					charContents = this.normalizeCRs(charContents);
					contents = new String(charContents);
				}
			}
			BufferChangedEvent event =
				new BufferChangedEvent(this, 0, this.getLength(), contents);
			synchronized (fLock) {
				fContents = charContents;
				fFlags |= F_HAS_UNSAVED_CHANGES;
				fGapStart = -1;
				fGapEnd = -1;
			}
			notifyChanged(event);
		}
	}

