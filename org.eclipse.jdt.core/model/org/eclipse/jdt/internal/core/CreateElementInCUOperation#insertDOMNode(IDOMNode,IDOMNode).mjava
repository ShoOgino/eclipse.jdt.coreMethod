	/**
	 * Inserts the given child into the given JDOM, 
	 * based on the position settings of this operation.
	 *
	 * @see createAfter(IJavaElement)
	 * @see createBefore(IJavaElement);
	 */
	protected void insertDOMNode(IDOMNode parent, IDOMNode child) {
		if (fInsertionPolicy != INSERT_LAST) {
			IDOMNode sibling = ((JavaElement)fAnchorElement).findNode(fCUDOM);
			if (sibling != null && fInsertionPolicy == INSERT_AFTER) {
				sibling = sibling.getNextNode();
			}
			if (sibling != null) {
				sibling.insertSibling(child);
				fCreatedElement = (DOMNode)child;
				fInsertionPosition = ((DOMNode)sibling).getStartPosition();
				fReplacementLength = 0;
				return;
			}
		}
		//add as the last element of the parent
		parent.addChild(child);
		fCreatedElement = (DOMNode)child;
		DOMNode lastChild = (DOMNode)fCreatedElement.getPreviousNode();
		fInsertionPosition = ((DOMNode)parent).getInsertionPosition();
	//	fInsertionPosition = lastChild == null ? ((DOMNode)parent).getInsertionPosition() : lastChild.getInsertionPosition();
		fReplacementLength = parent.getParent() == null ? -1 : 0;
	}

