	public boolean isPackage(String[] pkgName, IModuleContext context) {
		if (context == IModuleContext.UNNAMED_MODULE_CONTEXT)
			return isPackage(pkgName);
		
		Object value = this.packageFragments.get(pkgName);
		// TODO: need better representation of IModuleEnvironment and IModulePathEntry
		// in the model to avoid this kind of comparison
		return context.getEnvironment().anyMatch(e -> {
			if (value instanceof PackageFragmentRoot) {
				PackageFragmentRoot root = (PackageFragmentRoot)value;
				return e.equals(e instanceof JavaProject ? root.getJavaProject() : root);
			} else {
				IPackageFragmentRoot[] roots = (IPackageFragmentRoot[]) value;
				if (roots != null) {
					for (int i = 0, length = roots.length; i < length; i++) {
						PackageFragmentRoot root = (PackageFragmentRoot) roots[i];
						if (e.equals(e instanceof JavaProject ? root.getJavaProject() : root))
							return true;
					}
				}
			}
			return false;
		});
	}

