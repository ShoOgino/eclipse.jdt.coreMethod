public CompilationUnit(char[] contents, char[] filename) {
	fContents = contents;
	fFileName = filename;

	String file = new String(filename);
	int start = file.lastIndexOf("/"/*nonNLS*/) + 1;
	if (start == 0 || start < file.lastIndexOf("\\"/*nonNLS*/))
		start = file.lastIndexOf("\\"/*nonNLS*/) + 1;

	int end = file.lastIndexOf("."/*nonNLS*/);
	if (end == -1)
		end = file.length();

	fMainTypeName = file.substring(start, end).toCharArray();
}

