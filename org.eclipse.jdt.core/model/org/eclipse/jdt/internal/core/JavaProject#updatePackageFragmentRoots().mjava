	/**
	 * Reset the collection of package fragment roots (local ones) - only if opened.
	 */
	public void updatePackageFragmentRoots(){
		
			if (this.isOpen()) {

				try {
					IPackageFragmentRoot[] oldRoots = getPackageFragmentRoots();
					IPackageFragmentRoot[] newRoots = computePackageFragmentRoots(false);
					checkIdentical: {
						if (oldRoots.length == newRoots.length){
							for (int i = 0, length = oldRoots.length; i < length; i++){
								if (!oldRoots[i].equals(newRoots[i])){
									break checkIdentical;
								}
							}
							return; // no need to update
						}	
					}
					JavaProjectElementInfo info = getJavaProjectElementInfo();
					info.setChildren(
						computePackageFragmentRoots(false));		
					info.setNameLookup(null); // discard name lookup (hold onto roots)
					info.setNonJavaResources(null);
				} catch(JavaModelException e){
					try {
						close(); // could not do better
					} catch(JavaModelException ex){
					}
				}
			}
	}

