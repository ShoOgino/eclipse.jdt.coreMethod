	/**
	 * Creates a <code>SourceMapper</code> that locates source in the zip file
	 * at the given location in the specified package fragment root.
	 */
	public SourceMapper(IPath zipPath, String rootPath, JavaModel model) {
		this.fZipPath = zipPath;
		this.fRootPath = rootPath.replace('\\', '/');
		if (this.fRootPath.endsWith("/" )) { //$NON-NLS-1$
			this.fRootPath = this.fRootPath.substring(0, this.fRootPath.lastIndexOf('/'));
		}
		this.fJavaModel = model;
		this.fSourceRanges = new HashMap();
		this.fParameterNames = new HashMap();
		this.importsTable = new HashMap();
		this.importsCounterTable = new HashMap();
		
		IResource zipResource = ResourcesPlugin.getWorkspace().getRoot().findMember(zipPath);

		this.encoding = (String) JavaCore.getOptions().get(CompilerOptions.OPTION_Encoding);
		if ("".equals(this.encoding)) this.encoding = null; //$NON-NLS-1$
	}

