/**
 * Return the keys sorted by their values.
 */
public String[] sortedKeys(int maxValue) {
	String[] result = new String[this.elementSize];
	
	// compute a list of the end positions of each layer in result
	int[] endPos = new int[maxValue+1];
	int length = this.keyTable.length;
	for (int i = 0; i < length; i++) {
		String key = this.keyTable[i];
		if (key != null) {
			for (int j = this.valueTable[i]; j <= maxValue; j++) {
				endPos[j]++;
			}
		}
	}

	// store the keys in order of their values
	for (int i = 0; i < length; i++) {
		String key = this.keyTable[i];
		if (key != null) {
			int value = this.valueTable[i];
			int index = --endPos[value];
			result[index] = key;
		}
	}

	return result;
}

