	public static String toString(char[] declaringClass, char[] methodName, char[] methodSignature, boolean includeReturnType) {
		boolean isConstructor = CharOperation.equals(methodName, INIT);
		int firstParen = CharOperation.indexOf(Signature.C_PARAM_START, methodSignature);
		if (firstParen == -1) {
			return ""; //$NON-NLS-1$
		}
		
		StringBuffer buffer = new StringBuffer(methodSignature.length + 10);
		
		if (!isConstructor) {
			// return type
			if (includeReturnType) {
				char[] rts = Signature.getReturnType(methodSignature);
				appendTypeSignature(rts, 0 , buffer);
				buffer.append(' ');
			}
		}
		
		// selector
		int lastIndexOfSlash = CharOperation.lastIndexOf('/', declaringClass);
		if (lastIndexOfSlash != -1) {
			buffer.append(declaringClass, lastIndexOfSlash + 1, declaringClass.length - lastIndexOfSlash - 1);
		} else {
			buffer.append(declaringClass);
		}
		if (!isConstructor) {
			buffer.append('.');
	
			if (methodName != null) {
				buffer.append(methodName);
			}
		}
		
		// parameters
		buffer.append('(');
		char[][] pts = Signature.getParameterTypes(methodSignature);
		for (int i = 0, max = pts.length; i < max; i++) {
			if (i == max - 1) {
				appendTypeSignature(pts[i], 0 , buffer);
			} else {
				appendTypeSignature(pts[i], 0 , buffer);
			}
			if (i != pts.length - 1) {
				buffer.append(',');
				buffer.append(' ');
			}
		}
		buffer.append(')');
		return String.valueOf(buffer);
	}

