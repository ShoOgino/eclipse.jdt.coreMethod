/*
 * Update the roots that are affected by the addition or the removal of the given container resource.
 */
private void updateRoots(IPath containerPath, IResourceDelta containerDelta) {
	Iterator iterator = this.roots.keySet().iterator();
	while (iterator.hasNext()) {
		IPath path = (IPath)iterator.next();
		if (containerPath.isPrefixOf(path) && !containerPath.equals(path)) {
			IResourceDelta rootDelta = containerDelta.findMember(path.removeFirstSegments(1));
			if (rootDelta == null) continue;
			IJavaProject rootProject = (IJavaProject)this.roots.get(path);
			try {
				this.updateCurrentDeltaAndIndex(rootDelta, IJavaElement.PACKAGE_FRAGMENT_ROOT, rootProject);
			} catch (JavaModelException e) {
			}
			HashSet set = (HashSet)this.otherRoots.get(path);
			if (set != null) {
				Iterator otherProjects = set.iterator();
				while (otherProjects.hasNext()) {
					rootProject = (IJavaProject)otherProjects.next();
					try {
						this.updateCurrentDeltaAndIndex(rootDelta, IJavaElement.PACKAGE_FRAGMENT_ROOT, rootProject);
					} catch (JavaModelException e) {
					}
				}
			}
		}
	}
}

