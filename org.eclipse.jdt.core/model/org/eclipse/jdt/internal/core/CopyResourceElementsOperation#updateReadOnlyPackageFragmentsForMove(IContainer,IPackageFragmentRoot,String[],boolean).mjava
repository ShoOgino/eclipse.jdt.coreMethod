	private void updateReadOnlyPackageFragmentsForMove(IContainer sourceFolder, IPackageFragmentRoot root, String[] newFragName, boolean sourceFolderIsReadOnly) {
		IContainer parentFolder = (IContainer) root.getResource();
		for (int i = 0, length = newFragName.length; i < length; i++) {
			String subFolderName = newFragName[i];
			parentFolder = parentFolder.getFolder(new Path(subFolderName));
			sourceFolder = sourceFolder.getFolder(new Path(subFolderName));
			if ((sourceFolder.exists() && sourceFolder.isReadOnly()) || (i == length - 1 && sourceFolderIsReadOnly)) {
				parentFolder.setReadOnly(true);
				// the source folder will be deleted anyway (move operation)
				sourceFolder.setReadOnly(false);
			}
		}
	}

