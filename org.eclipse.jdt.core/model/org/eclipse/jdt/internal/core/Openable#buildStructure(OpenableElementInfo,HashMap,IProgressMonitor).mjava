/**
 * Updates the info objects for this element and all of its children by
 * removing the current infos, generating new infos, and then placing
 * the new infos into the Java Model cache tables.
 */
protected void buildStructure(OpenableElementInfo info, HashMap newElements, IProgressMonitor monitor) throws JavaModelException {

	if (monitor != null && monitor.isCanceled()) return;
	
	newElements.put(this, info);
	
	boolean isStructureKnown = generateInfos(info, monitor, newElements, getResource());
	info.setIsStructureKnown(isStructureKnown);
	
	JavaModelManager.getJavaModelManager().getElementsOutOfSynchWithBuffers().remove(this);
}

