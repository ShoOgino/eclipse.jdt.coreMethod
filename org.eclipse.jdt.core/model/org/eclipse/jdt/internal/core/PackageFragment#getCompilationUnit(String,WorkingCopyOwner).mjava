/**
 * @see IPackageFragment#getCompilationUnit(String, WorkingCopyOwner)
 * @exception IllegalArgumentExcpetion if the name does not end with ".java"
 */
public ICompilationUnit getCompilationUnit(String name, WorkingCopyOwner owner) {
	if (!Util.isJavaFileName(name)) {
		throw new IllegalArgumentException(org.eclipse.jdt.internal.core.Util.bind("convention.unit.notJavaName")); //$NON-NLS-1$
	}
	CompilationUnit cu = new CompilationUnit(this, name, owner);
	if (owner == DefaultWorkingCopyOwner.PRIMARY) {
		return cu;
	} else {
		// must be a working copy
		if (cu.getPerWorkingCopyInfo() != null) {
			return cu;
		} else {
			return new CompilationUnit(this, name, DefaultWorkingCopyOwner.PRIMARY);
		}
	}
}

