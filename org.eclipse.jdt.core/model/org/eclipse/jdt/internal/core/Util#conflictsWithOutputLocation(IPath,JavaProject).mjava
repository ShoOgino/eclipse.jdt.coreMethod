/**
 * Returns whether the given full path (for a package) conflicts with the output location
 * of the given project.
 */
public static boolean conflictsWithOutputLocation(IPath folderPath, JavaProject project) {
	try {
		IPath outputLocation = project.getOutputLocation();
		if (outputLocation == null) {
			// in doubt, there is a conflict
			return true;
		}
		if (outputLocation.isPrefixOf(folderPath)) {
			// only allow nesting in outputlocation if there is a corresponding source folder
			return project.getClasspathEntryFor(outputLocation) == null;
		}
		return false;
	} catch (JavaModelException e) {
		// in doubt, there is a conflict
		return true;
	}
}

