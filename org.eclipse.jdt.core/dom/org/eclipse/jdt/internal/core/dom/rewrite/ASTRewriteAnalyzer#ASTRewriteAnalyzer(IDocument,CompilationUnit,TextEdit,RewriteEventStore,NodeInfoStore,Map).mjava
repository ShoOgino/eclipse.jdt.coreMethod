	/*
	 * Constructor for ASTRewriteAnalyzer.
	 */
	public ASTRewriteAnalyzer(IDocument document, CompilationUnit astRoot, TextEdit rootEdit, RewriteEventStore eventStore, NodeInfoStore nodeInfos, Map options) {
		fAstRoot= astRoot;
		fEventStore= eventStore;
		fDocument= document;
		fNodeInfos= nodeInfos;
		fTokenScanner= null;
		fCurrentEdit= rootEdit;
		fSourceCopyInfoToEdit= new IdentityHashMap();
		fSourceCopyEndNodes= new Stack();
		
		fFormatter= new ASTRewriteFormatter(nodeInfos, eventStore, options, getLineDelimiter());
	}

