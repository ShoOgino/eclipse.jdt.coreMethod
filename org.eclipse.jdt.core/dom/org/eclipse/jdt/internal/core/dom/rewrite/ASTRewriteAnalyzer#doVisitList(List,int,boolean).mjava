	private int doVisitList(List list, int offset, boolean hasRangeCopySources) {
		if (hasRangeCopySources) {
			// list with copy source ranges
			Stack nodeRangeEndStack= new Stack();
			int endPos= offset;
			for (Iterator iter= list.iterator(); iter.hasNext();) {
				ASTNode curr= ((ASTNode) iter.next());
				doCopySourcePreVisit(this.eventStore.getRangeCopySources(curr), nodeRangeEndStack);
				endPos= doVisit(curr);
				doCopySourcePostVisit(curr, nodeRangeEndStack);
			}
			return endPos;
		} else {
			int endPos= offset;
			for (Iterator iter= list.iterator(); iter.hasNext();) {
				ASTNode curr= ((ASTNode) iter.next());
				endPos= doVisit(curr);
			}
			return endPos;
		}
	}

