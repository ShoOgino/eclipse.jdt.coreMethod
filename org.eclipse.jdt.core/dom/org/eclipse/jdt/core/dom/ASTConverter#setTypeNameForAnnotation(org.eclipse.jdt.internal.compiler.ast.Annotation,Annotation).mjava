	protected void setTypeNameForAnnotation(org.eclipse.jdt.internal.compiler.ast.Annotation compilerAnnotation, Annotation annotation) {
		TypeReference typeReference = compilerAnnotation.type;
		Name name;
		if (typeReference instanceof QualifiedTypeReference) {
			QualifiedTypeReference qualifiedTypeReference = (QualifiedTypeReference) typeReference;
			char[][] tokens = qualifiedTypeReference.tokens;
			long[] positions = qualifiedTypeReference.sourcePositions;
			// QualifiedName
			name = setQualifiedNameNameAndSourceRanges(tokens, positions, compilerAnnotation);
		} else {
			SingleTypeReference singleTypeReference = (SingleTypeReference) typeReference;
			name = this.ast.newSimpleName(new String(singleTypeReference.token));
			int start = singleTypeReference.sourceStart;
			int end = singleTypeReference.sourceEnd;
			name.setSourceRange(start, end - start + 1);
		}
		if (this.resolveBindings) {
			recordNodes(name, compilerAnnotation);
		}
		annotation.setTypeName(name);
	}

