	/**
	 * This method is used to convert the compilation unit declaration when the bindings are resolved.
	 * @param compilationUnitDeclaration org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration
	 * @param source char[]
	 * @return org.eclipse.jdt.core.dom.CompilationUnit
	 */	
	static CompilationUnit convert(CompilationUnitDeclaration compilationUnitDeclaration, char[] source) {
		if (compilationUnitDeclaration != null && source != null) {
			ASTConverter converter = new ASTConverter(true);
			AST ast = new AST();
			ast.setBindingResolver(new DefaultBindingResolver(compilationUnitDeclaration.scope));
			converter.setAST(ast);
		
			CompilationUnit cu = converter.convert(compilationUnitDeclaration, source);
			// line end table should be extracted from scanner
			cu.setLineEndTable(compilationUnitDeclaration.compilationResult.lineSeparatorPositions);
		
			// line end table should be extracted from scanner
			//cu.setLineEndTable(parser.scanner.lineEnds);
			return cu;
		} else {
			return null;
		}
	}

