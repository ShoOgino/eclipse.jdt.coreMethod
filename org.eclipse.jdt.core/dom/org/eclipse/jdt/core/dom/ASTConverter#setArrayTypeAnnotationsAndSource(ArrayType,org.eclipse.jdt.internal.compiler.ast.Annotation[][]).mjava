	private void setArrayTypeAnnotationsAndSource(ArrayType arrayType,
			org.eclipse.jdt.internal.compiler.ast.Annotation[][] annotationsOnDims) {
		List dimensions = arrayType.dimensions();
		Type elemType = arrayType.getElementType();
		int start = elemType.getStartPosition();
		int endElement = start + elemType.getLength();
		int length = arrayType.getLength();
		int end = (length <= 0) ? retrieveProperRightBracketPosition(dimensions.size(), endElement) : start + length - 1;
		arrayType.setSourceRange(start, end - start + 1);
		
		start = endElement;
		for (int i = 0; i < dimensions.size(); i++) {
			ExtraDimension currentDimension = (ExtraDimension) dimensions.get(i);
			setArrayTypeAnnotations(currentDimension, annotationsOnDims, i);
			retrieveDimensionAndSetPositions(start, end, currentDimension);
			start = currentDimension.getStartPosition() + currentDimension.getLength();
		}
	}

