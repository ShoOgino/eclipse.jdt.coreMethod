	private void setTypeAnnotationsAndSourceRangeOnArray(ArrayType arrayType, org.eclipse.jdt.internal.compiler.ast.Annotation[][] annotationsOnDimensions) {
		List dimensions = arrayType.dimensions();
		Type elementType = arrayType.getElementType();
		int start = elementType.getStartPosition();
		int endElement = start + elementType.getLength();
		int length = arrayType.getLength();
		int end = (length <= 0) ? retrieveProperRightBracketPosition(dimensions.size(), endElement) : start + length - 1;
		arrayType.setSourceRange(start, end - start + 1);
		
		start = endElement;
		for (int i = 0; i < dimensions.size(); i++) {
			ExtraDimension currentDimension = (ExtraDimension) dimensions.get(i);
			setTypeAnnotationsOnDimension(currentDimension, annotationsOnDimensions, i);
			retrieveDimensionAndSetPositions(start, end, currentDimension);
			start = currentDimension.getStartPosition() + currentDimension.getLength();
		}
	}

