	private void setSourceRangeAnnotationsAndRecordNodes(TypeReference typeReference, AnnotatableType annotatableType,
			org.eclipse.jdt.internal.compiler.ast.Annotation[][] typeAnnotations, int index, int start, int end) {
		org.eclipse.jdt.internal.compiler.ast.Annotation[] annotations;
		int annotationsStart = start;
		int length = end - start + 1;
		if (typeAnnotations != null && (annotations = typeAnnotations[index]) != null) {
			annotateType(annotatableType, annotations);
			if (annotations[0] != null && (annotationsStart = annotations[0].sourceStart) < start) {
				length += annotationsStart > 0 ? start - annotationsStart : 0;
				start = annotationsStart;
			}
		}
		annotatableType.setSourceRange(start, length);
		if (this.resolveBindings) {
			recordNodes(annotatableType, typeReference);
		}
	}

