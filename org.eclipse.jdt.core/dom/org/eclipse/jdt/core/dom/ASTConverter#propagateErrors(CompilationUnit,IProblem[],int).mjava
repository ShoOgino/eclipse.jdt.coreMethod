	private void propagateErrors(CompilationUnit unit, IProblem[] problems, int problemLength) {
		// resize the problem array to the proper size
		IProblem[] resizeProblems = null;
		if (problems.length == problemLength) {
			resizeProblems = problems;
		} else {
			System.arraycopy(problems, 0, (resizeProblems = new IProblem[problemLength]), 0, problemLength);
		}
		ASTSyntaxErrorPropagator syntaxErrorPropagator = new ASTSyntaxErrorPropagator(resizeProblems);
		unit.accept(syntaxErrorPropagator);
		// store the messages error on the compulation unit
		Message[] messages = new Message[problemLength];
		for (int i = 0; i < problemLength; i++) {
			IProblem problem = problems[i];
			int start = problem.getSourceStart();
			int end = problem.getSourceEnd();
			messages[i] = new Message(problem.getMessage(), start, end - start + 1);
		}
		unit.setMessages(messages);
	}

