	/**
	 * Return extended length of a given node.
	 * @param node
	 * @return length including node leading and trailing comments
	 */
	public int getExtendedLength(ASTNode node) {
		int end = node.getStartPosition() + node.getLength() - 1;
		Comment[] trailingComments = this.commentMapper.getTrailingComments(node);
		if (trailingComments != null) {
			Comment lastComment = trailingComments[trailingComments.length-1];
			end = lastComment.getStartPosition() + lastComment.getLength() - 1;
		}
		return end - getExtendedStartPosition(node) + 1;
	}

