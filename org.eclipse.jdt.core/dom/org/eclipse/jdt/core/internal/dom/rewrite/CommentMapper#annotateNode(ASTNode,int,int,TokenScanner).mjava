	private static int annotateNode(ASTNode node, int prevEnd, int nextStart, TokenScanner scanner) {
		int tokenStart= node.getStartPosition();
		int tokenLength= node.getLength();
		try {
			int start= scanner.getTokenCommentStart(prevEnd, tokenStart);
			int length= scanner.getTokenCommentEnd(tokenStart + tokenLength, nextStart) - start;
			if (start != tokenStart || length != tokenLength) {
				node.setProperty(NODE_RANGE_PROPERTY, new SourceRange(start, length));
			}
			return start + length;
		} catch (CoreException e) {
			//JavaPlugin.log(e);
			// log, no extra range annotated
		}
		return tokenStart + tokenLength;
	}

