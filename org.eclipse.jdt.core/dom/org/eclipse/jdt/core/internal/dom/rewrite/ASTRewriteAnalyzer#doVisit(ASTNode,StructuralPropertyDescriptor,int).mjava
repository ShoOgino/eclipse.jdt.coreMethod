	final int doVisit(ASTNode parent, StructuralPropertyDescriptor property, int offset) {
		Object node= getOriginalValue(parent, property);
		if (node instanceof ASTNode) {
			return doVisit((ASTNode) node);
		} else if (node instanceof List) {
			int endPos= offset;
			for (Iterator iter= ((List) node).iterator(); iter.hasNext();) {
				ASTNode curr= ((ASTNode) iter.next());
				endPos= doVisit(curr);
			}
			return endPos;		
		}
		return offset;
	}	

