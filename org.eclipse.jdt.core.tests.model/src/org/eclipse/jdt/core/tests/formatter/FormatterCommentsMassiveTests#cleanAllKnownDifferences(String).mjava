private String cleanAllKnownDifferences(String comment) {
	int kind = comment.charAt(1) == '/' ? 1 : comment.charAt(2) == '*' ? 3 : 2;
	String cleanedComment = comment;
	switch (kind) {
		case 1: // line comment
			cleanedComment = cleanBlankLinesAfterLineComment(comment);
			break;
		case 3: // javadoc comment
			cleanedComment = cleanHeaderAndFooter(comment);
			String newComment = cleanPreTags(cleanedComment);
			if (cleanedComment == newComment) {
				cleanedComment = cleanCodeTags(cleanedComment);
			} else {
				cleanedComment = newComment;
			}
			break;
	}
	return cleanedComment;
}

