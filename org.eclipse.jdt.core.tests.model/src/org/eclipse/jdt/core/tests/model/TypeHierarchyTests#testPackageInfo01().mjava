// Bug 337868 - [compiler][model] incomplete support for package-info.java when using SearchableEnvironment
// Ensure that package-info doesn't cause AbortCompilation from the HierarchyResolver.
public void testPackageInfo01() throws CoreException {
	try {
		createJavaProject("P", new String[] {"src"}, new String[] {"JCL_LIB"}, new String[0], "bin");

		createFolder("/P/src/p");
		createFile(
				"/P/src/p/package-info.java",
				"/** Doc comment*/ package p;\n"
			);
		createFile(
				"/P/src/p/A.java",
				"package p;\n" +
				"public class A {\n" +
				"}\n"
			);
		createFile(
				"/P/src/p/C.java",
				"package p;\n" +
				"public class C extends A {\n" +
				"    void foo() {\n" +
				"        class Bar extends C {}\n" +
				"    }\n" +
				"}\n"
			);
		ICompilationUnit cu = getCompilationUnit("/P/src/p/C.java");
		IType type = cu.getType("C");
		IMethod method = type.getMethod("foo", new String[0]);
		IType local = method.getType("Bar", 1);
		ITypeHierarchy cHierarchy = type.newTypeHierarchy(null);
		assertTrue("Local type should be in the hierarchy", cHierarchy.contains(local));
	} finally {
		deleteProject("P");
	}	
}

