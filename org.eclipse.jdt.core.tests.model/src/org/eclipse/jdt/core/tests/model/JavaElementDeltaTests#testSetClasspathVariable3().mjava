/**
 * Ensures that initializing a classpath variable on startup doesn't trigger a delta
 */
public void testSetClasspathVariable3() throws CoreException {
	try {
		this.createProject("LibProj");
		this.createFile("LibProj/mylib.jar", "");
		this.createFile("LibProj/otherlib.jar", "");
		JavaCore.setClasspathVariables(new String[] {"LIB"}, new IPath[] {new Path("/LibProj/mylib.jar")}, null);
		JavaProject p1 = (JavaProject)this.createJavaProject("P1", new String[] {""}, new String[] {"LIB"}, "");
		
		// reset project resolved classpath - stored in perProjectInfo to simulate startup
		JavaModelManager.PerProjectInfo perProjectInfo = JavaModelManager.getJavaModelManager().getPerProjectInfoCheckExistence(p1.getProject()); 
		perProjectInfo.lastResolvedClasspath = null;

		this.startDeltas();
		JavaCore.setClasspathVariables(new String[] {"LIB"}, new IPath[] {new Path("/LibProj/otherlib.jar")}, null);
		assertEquals(
			"Unexpected delta after setting classpath variable", 
			"", 
			this.getSortedByProjectDeltas());
	} finally {
		this.stopDeltas();
		this.deleteProject("P1");
		this.deleteProject("LibProj");
	}
}

