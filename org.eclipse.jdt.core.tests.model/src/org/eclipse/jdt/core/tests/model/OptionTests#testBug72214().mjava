	/**
	 * Test fix for bug 72214: [Preferences] IAE when opening project preferences
	 * @see <a href="http://bugs.eclipse.org/bugs/show_bug.cgi?id=72214">72214</a>
	 */
	public void testBug72214() throws CoreException, BackingStoreException {
	
		try {
			// Remove JavaCore instance prefs
			JavaModelManager manager = JavaModelManager.getJavaModelManager();
			IEclipsePreferences preferences = manager.getInstancePreferences();
			int size = JavaCore.getOptions().size();
			preferences.removeNode();
		
			// verify that JavaCore preferences have been reset
			assertFalse("JavaCore preferences should have been reset", preferences == manager.getInstancePreferences());
			assertEquals("JavaCore preferences should have been resotred!", size, JavaCore.getOptions().size());
		} finally {
			// Put back default options
			JavaCore.setOptions(JavaCore.getDefaultOptions());
		}
	}

