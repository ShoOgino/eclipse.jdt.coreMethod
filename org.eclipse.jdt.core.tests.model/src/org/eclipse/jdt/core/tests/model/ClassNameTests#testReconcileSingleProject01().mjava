	public void testReconcileSingleProject01() throws CoreException {
		ICompilationUnit workingCopy = null;
		try {
			createJavaProject("P", new String[] {""}, new String[] {"JCL_LIB"}, "bin");
			String source = 
				"public class Test {\n" + 
				"	public static void main(String[] args) {\n" + 
				"		new SFoo().foo();\n" + 
				"	}\n" + 
				"}\n";
			this.createFile(
				"/P/Foo.java", 
				"class SFoo { void foo() {} }\n"
			);
			this.createFile(
				"/P/Test.java", 
				source
			);
			ProblemRequestor problemRequestor =  new ProblemRequestor();
			workingCopy = getCompilationUnit("/P/Test.java").getWorkingCopy(new WorkingCopyOwner() {}, problemRequestor, null);
			problemRequestor.initialize(source.toCharArray());
			workingCopy.getBuffer().setContents(source);
			workingCopy.reconcile(AST.JLS3, true, null, null);
			if (problemRequestor.problemCount > 0) {
				assertEquals("Working copy should NOT have any problem!", "", problemRequestor.problems.toString());
			}

			// Add new secondary type
			this.createFile(
				"/P/Bar.java", 
				"class SBar{ void bar() {} }\n"
			);
			waitUntilIndexesReady();
			source = 
				"public class Test {\n" + 
				"	public static void main(String[] args) {\n" + 
				"		new SFoo().foo();\n" + 
				"		new SBar().bar();\n" + 
				"	}\n" + 
				"}\n";
			problemRequestor.initialize(source.toCharArray());
			workingCopy.getBuffer().setContents(source);
			workingCopy.reconcile(AST.JLS3, true, null, null);
			if (problemRequestor.problemCount > 0) {
				assertEquals("Working copy should NOT have any problem!", "", problemRequestor.problems.toString());
			}
		} finally {
			if (workingCopy != null) workingCopy.discardWorkingCopy();
			deleteProject("P");
		}
	}

