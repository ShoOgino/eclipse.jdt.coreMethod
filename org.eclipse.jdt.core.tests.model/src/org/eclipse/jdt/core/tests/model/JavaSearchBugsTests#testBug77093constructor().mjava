/**
 * Bug 77093: [search] No references found to method with member type argument
 * @see "https://bugs.eclipse.org/bugs/show_bug.cgi?id=77093"
 */
public void testBug77093constructor() throws CoreException {
	workingCopies = new ICompilationUnit[1];
	workingCopies[0] = getWorkingCopy("/JavaSearchBugs/src/b77093/X.java",
		"package b77093;\n" + 
		"public class X {\n" + 
		"	class Z {\n" + 
		"	}\n" + 
		"	Z[][] z_arrays;\n" + 
		"	X() {\n" + 
		"		this(new Z[10][]);\n" + 
		"	}\n" + 
		"	X(Z[][] arrays) {\n" + 
		"		z_arrays = arrays;\n" + 
		"	}\n" + 
		"	private void foo(Z[] args) {\n" + 
		"	}\n" + 
		"	void bar() {\n" + 
		"		for (int i=0; i<z_arrays.length; i++)\n" + 
		"			foo(z_arrays[i]);\n" + 
		"	}\n" + 
		"}");
	IType type = workingCopies[0].getType("X");
	IMethod method = type.getMethod("X", new String[] {"[[QZ;"});
	// Search for constructor declarations and references
	search(method, ALL_OCCURRENCES);
	discard = false; // keep working copies for next test (set before assertion as an error is raised...)
	assertSearchResults(
		"src/b77093/X.java b77093.X() [this(new Z[10][])] EXACT_MATCH\n"+
		"src/b77093/X.java b77093.X(Z[][]) [X] EXACT_MATCH"
	);
}

