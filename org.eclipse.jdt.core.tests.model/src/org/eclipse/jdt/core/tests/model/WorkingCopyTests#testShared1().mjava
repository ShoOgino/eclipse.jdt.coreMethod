/**
 * Test creating a shared working copy.
 */
public void testShared1() throws JavaModelException {
	IJavaElement shared = this.cu.getSharedWorkingCopy(null, null, null);
	try {
		assertTrue("Should be an ICompilationUnit", shared instanceof ICompilationUnit);
		assertTrue("Primary element should have shared working copy", this.cu.findSharedWorkingCopy(null) == shared);
	} finally {
		if (shared instanceof ICompilationUnit) {
			((ICompilationUnit)shared).discardWorkingCopy();
		}
	}
	assertTrue("Primary element should not have shared working copy", this.cu.findSharedWorkingCopy(null) == null);
}

