	public void refresh(final IJavaProject javaProject) throws CoreException {
		ResourcesPlugin.getWorkspace().run(new IWorkspaceRunnable() {
			public void run(IProgressMonitor pm) throws CoreException {
				// work around for https://bugs.eclipse.org/bugs/show_bug.cgi?id=219566
				IProject externalFoldersProject = JavaModelManager.getExternalManager().getExternalFoldersProject();
				externalFoldersProject.refreshLocal(IResource.DEPTH_INFINITE, pm);
				
				javaProject.getProject().refreshLocal(IResource.DEPTH_INFINITE, pm);
			}
		}, null);
	}

