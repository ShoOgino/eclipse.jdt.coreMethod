protected IFolder createFolder(String path) throws CoreException {
	final IFolder folder = this.getFolder(path);
	getWorkspace().run(new IWorkspaceRunnable() {
		public void run(IProgressMonitor monitor) throws CoreException {
			IContainer parent = folder.getParent();
			if (parent instanceof IFolder && !parent.exists()) {
				createFolder(parent.getFullPath().toString());
			} 
			folder.create(true, true, null);
		}
	},
	null);

	return folder;
}

