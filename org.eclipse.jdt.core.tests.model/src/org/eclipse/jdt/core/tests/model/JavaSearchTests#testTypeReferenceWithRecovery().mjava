/**
 * Type reference with recovery test.
 * (Regression test for bug 29366 Search reporting invalid inaccurate match )
 */
public void testTypeReferenceWithRecovery() throws CoreException {
	IType type = getCompilationUnit("JavaSearch", "src", "e1", "A29366.java").getType("A29366");
	JavaSearchResultCollector resultCollector = new JavaSearchResultCollector();
	resultCollector.showAccuracy = true;
	new SearchEngine().search(
		getWorkspace(), 
		type, 
		REFERENCES, 
		getJavaSearchScope(), 
		resultCollector);
	assertSearchResults(
		"src/e1/A29366.java e1.A29366.foo() -> void [A29366] EXACT_MATCH",
		resultCollector);
}

