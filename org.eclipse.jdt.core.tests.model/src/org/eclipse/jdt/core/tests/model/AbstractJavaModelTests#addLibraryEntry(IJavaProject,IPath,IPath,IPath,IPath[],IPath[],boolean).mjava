	protected void addLibraryEntry(IJavaProject project, IPath path, IPath srcAttachmentPath, IPath srcAttachmentPathRoot, IPath[] inclusionPatterns, IPath[] exclusionPatterns, boolean exported) throws JavaModelException{
		IClasspathEntry[] entries = project.getRawClasspath();
		int length = entries.length;
		System.arraycopy(entries, 0, entries = new IClasspathEntry[length + 1], 1, length);
		entries[0] = JavaCore.newLibraryEntry(
			path, 
			srcAttachmentPath, 
			srcAttachmentPathRoot, 
			inclusionPatterns == null ? new IPath[0] : inclusionPatterns, 
			exclusionPatterns == null ? new IPath[0] : exclusionPatterns, 
			new IClasspathAttribute[0], 
			exported);
		project.setRawClasspath(entries, null);
	}

