/*
 * Method declaration with a missing return type.
 * (regression test for bug 43080 NPE when searching in CU with incomplete method declaration)
 */
public void testMethodDeclarationNoReturnType() throws JavaModelException {
	IType type = getCompilationUnit("JavaSearch", "src", "e8", "A.java").getType("A");
	IJavaSearchScope scope = SearchEngine.createJavaSearchScope(new IJavaElement[] {type.getPackageFragment()});
	JavaSearchResultCollector resultCollector = new JavaSearchResultCollector();
	new SearchEngine().search(
		getWorkspace(), 
		"m() int",
		METHOD,
		DECLARATIONS, 
		scope, 
		resultCollector);
	assertSearchResults(
		"src/e8/A.java e8.A.m() -> void [m]", 
		resultCollector);
}

