/**
 * Declaration of accessed fields test.
 * (regression test for bug 10386 NPE in MatchLocator.lookupType)
 */
public void testDeclarationOfAccessedFields3() throws JavaModelException, CoreException {
	IMethod method = 
		getCompilationUnit("JavaSearch", "src", "b6", "A.java").
			getType("A").getMethod("foo", new String[] {});
	JavaSearchResultCollector resultCollector = new JavaSearchResultCollector();
	new SearchEngine().searchDeclarationsOfAccessedFields(
		getWorkspace(), 
		method,
		resultCollector
	);
	assertEquals(
		"src/b6/A.java b6.A.field [field]", 
		resultCollector.toString());
}

