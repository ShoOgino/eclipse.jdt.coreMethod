/**
 * Search for references in a hierarchy should find matches in super type.
 * (regression test for bug 31748 [search] search for reference is broken 2.1 M5)
 */
public void testHierarchyScope2() throws JavaModelException, CoreException {
	ICompilationUnit cu = this. getCompilationUnit("JavaSearchDependent", "", "", "Y.java");
	IType type = cu.getType("Y");
	IMethod method = type.getMethod("foo", new String[] {});
	IJavaSearchScope scope = SearchEngine.createHierarchyScope(type);
	JavaSearchResultCollector resultCollector = new JavaSearchResultCollector();
	resultCollector.showProject = true;
	new SearchEngine().search(
		getWorkspace(), 
		method, 
		REFERENCES, 
		scope, 
		resultCollector);
	assertEquals(
		"src/e2/X.java [in JavaSearch] e2.X.bar() -> void [foo()]", 
		resultCollector.toString());
	
}

