/**
 * Declaration of referenced types test.
 * (Regression test for bug 47787 IJavaSearchResultCollector.aboutToStart() and done() not called)
 */
public void testDeclarationOfReferencedTypes8() throws CoreException {
	IPackageFragment pkg = getPackageFragment("JavaSearch", "src", "r7");
	JavaSearchResultCollector resultCollector = new JavaSearchResultCollector() {
	    public void aboutToStart() {
	        results.append("Starting search...\n");
        }
	    public void done() {
	        results.append("Done searching.");
        }
	};
	new SearchEngine().searchDeclarationsOfReferencedTypes(
		getWorkspace(), 
		pkg,
		resultCollector
	);
	assertSearchResults(
		"Starting search...\n"+
		"Done searching.", 
		resultCollector);
}

