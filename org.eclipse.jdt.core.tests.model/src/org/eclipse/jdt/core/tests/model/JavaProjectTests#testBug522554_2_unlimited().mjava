// unnamed module observes all default modules per JEP 261
// - use any failures in this test case for adjusting DEFAULT_MODULES for the given java.version. 
public void testBug522554_2_unlimited() throws CoreException {
	if (!isJRE9) return;
	IJavaProject prj = null;
	try {
		prj = createJava9Project("unnamed", new String[] { "src" });
		prj.getProject().getWorkspace().build(IncrementalProjectBuilder.AUTO_BUILD, null);
		IMarker[] markers = prj.getProject().findMarkers(null, true, IResource.DEPTH_INFINITE);
		assertMarkers("Unexpected markers", "",  markers);

		IClasspathEntry systemLibrary = prj.getRawClasspath()[1];
		assertEquals("Should be system library", getJRE9Path(), systemLibrary.getPath());
		List<String> defaultRootModules = JavaCore.defaultRootModules(Arrays.asList(prj.findPackageFragmentRoots(systemLibrary)));
		Collections.sort(defaultRootModules);
		assertEquals("Unexpected default modules",
				DEFAULT_MODULES,
				String.join(",", defaultRootModules.toArray(new String[defaultRootModules.size()])));
	} finally {
		if (prj != null)
			deleteProject(prj);
	}
}

