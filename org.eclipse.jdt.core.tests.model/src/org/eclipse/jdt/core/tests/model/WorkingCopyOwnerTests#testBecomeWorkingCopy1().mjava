	/*
	 * Tests that a primary compilation unit can become a working copy.
	 */
	public void testBecomeWorkingCopy1() throws CoreException {
		ICompilationUnit cu = null;
		try {
			createJavaProject("P");
			createFile(
				"P/x.java",
				"public class X {\n" +
				"}"
			);
			cu = getCompilationUnit("P/X.java");
			assertTrue("should not be in working copy mode", !cu.isWorkingCopy());
			
			cu.becomeWorkingCopy(null, null);
			assertTrue("should be in working copy mode", cu.isWorkingCopy());
		} finally {
			if (cu != null) {
				while (cu.isWorkingCopy()) {
					cu.discardWorkingCopy();
				}
			}
			deleteProject("P");
		}
	}

