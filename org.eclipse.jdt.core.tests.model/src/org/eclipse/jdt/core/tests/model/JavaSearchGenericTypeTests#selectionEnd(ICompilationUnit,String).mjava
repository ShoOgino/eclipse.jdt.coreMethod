	protected int selectionEnd(ICompilationUnit cu, String commentText) throws JavaModelException {

		// Get dom compilation unit
		ASTParser parser = ASTParser.newParser(AST.JLS3);
		parser.setSource(cu);
		parser.setResolveBindings(false);

		// Look for selection
		final CompilationUnit unit = (CompilationUnit) parser.createAST(null);
		List comments = unit.getCommentList();
		Javadoc selectionComment = null;
		for (int i=0, size=comments.size(); i<size && selectionComment==null; i++) {
			Comment comment = (Comment) comments.get(i);
			if (comment.isDocComment()) {
				Javadoc javadoc = (Javadoc) comment;
				if (javadoc.tags().size() == 1) {
					TagElement tagElement = (TagElement) javadoc.tags().get(0);
					if (tagElement.fragments().size() == 1) {
						ASTNode node = (ASTNode) tagElement.fragments().get(0);
						if (node.getNodeType() == ASTNode.TEXT_ELEMENT) {
							TextElement text = (TextElement) node;
							if (commentText.equals(text.getText())) {
								selectionComment = javadoc;
							}
						}
					}
				}
			}
		}
		if (selectionComment == null) {
			StringBuffer msg = new StringBuffer("No javadoc comment /** ");
			msg.append(commentText);
			msg.append(" */ was found in ");
			msg.append(cu.getElementName());
			msg.append(":\n");
			msg.append(cu.getBuffer().getCharacters());
			assertTrue(msg.toString(), false);
			return -1;
		}
		return selectionComment.getStartPosition()+selectionComment.getLength();
	}

