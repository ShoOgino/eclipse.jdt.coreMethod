/*
 * Ensures that a call to IJavaProject.findType("java.lang.Object") doesn't cause the hierarchy
 * computation to throw a StackOverFlow
 * (regression test for https://bugs.eclipse.org/bugs/show_bug.cgi?id=209222)
 */
public void testFindObject() throws CoreException {
	try {
		IJavaProject p = createJavaProject("P");
		// ensure Object.class is closed
		p.getPackageFragmentRoot(getExternalJCLPathString()).getPackageFragment("java.lang").getClassFile("Object.class").close();
		// find Object to fill internal jar type cache
		IType type = p.findType("java.lang.Object");
		// create hierarchy
		type.newTypeHierarchy(null); // should not throw a StackOverFlow
	} finally {
		deleteProject("P");
	}
}

