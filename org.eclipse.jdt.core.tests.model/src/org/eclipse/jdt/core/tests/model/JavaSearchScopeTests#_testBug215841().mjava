/**
 * @bug 215841: [search] Opening Type Hierarchy extremely slow
 * @test Ensure that a non-existing library is not added while building the Java search scope
 * @see "https://bugs.eclipse.org/bugs/show_bug.cgi?id=215841"
 */
// see #testApplicationLibrairiesJarAndClassFolder()
public void _testBug215841() throws CoreException {
	try {
		IJavaProject project = createJavaProject("P", new String[] {"src"}, new String[] {"/P/internal.jar", "/P/classfolder"}, "bin");
		IJavaSearchScope scope = SearchEngine.createJavaSearchScope(new IJavaElement[] {project}, IJavaSearchScope.APPLICATION_LIBRARIES);
		assertScopeEquals(
			"JavaSearchScope on [empty scope]",
			scope);
	} finally {
		deleteProject("P");
	}
}

