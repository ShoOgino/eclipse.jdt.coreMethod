	protected static TestSuite addMethodsToSuite(Class testClass) {
		TestSuite suite = new TestSuite(testClass.getName());
		try {
			Method[] methods = testClass.getMethods();
			Constructor cons = testClass.getConstructor(new Class[]{String.class, int.class});
			for (int i = 0, max = methods.length; i < max; i++) {
				String name = methods[i].getName();
				if (name.startsWith("test")) { //$NON-NLS-1$
					int levels = getASTLevelsForTest(name);
					if ( (levels & LEVEL_2) != 0 )
						suite.addTest((Test) cons.newInstance(new Object[]{name,  new Integer(JLS2_INTERNAL)}));
					if ( (levels & LEVEL_3) != 0 )
						suite.addTest((Test) cons.newInstance(new Object[]{name,  new Integer(JLS3_INTERNAL)}));
					if ( (levels & LEVEL_4) != 0 )
						suite.addTest((Test) cons.newInstance(new Object[]{name,  new Integer(JLS4_INTERNAL)}));
					if ( (levels & LEVEL_8) != 0 )
						suite.addTest((Test) cons.newInstance(new Object[]{name,  new Integer(AST.JLS8)}));
					// In future when adding support for new levels, make sure you update the getASTLevelsForTest() method too
					// and create a new SINCE_* constant and update the value of SINCE_8
				}
			}
		} catch (Exception e) {
			e.printStackTrace(); // In the unlikely case, can't do much
		}
		return suite;
	}

