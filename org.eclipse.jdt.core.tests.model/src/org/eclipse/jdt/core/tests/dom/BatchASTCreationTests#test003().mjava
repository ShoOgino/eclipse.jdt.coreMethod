	/*
	 * Test the creation of 3 batches of ASTs without resolving.
	 */
	public void test003() throws CoreException {
		ICompilationUnit[][] workingCopyBatches = new ICompilationUnit[3][];
		try {
			workingCopyBatches[0] = createWorkingCopies(new String[] {
				"/P/p1/X.java",
				"package p1;\n" +
				"public class X extends Y {\n" +
				"}",
				"/P/p1/Y.java",
				"package p1;\n" +
				"public class Y {\n" +
				"}",
			});
			workingCopyBatches[1] = createWorkingCopies(new String[] {});
			workingCopyBatches[2] = createWorkingCopies(new String[] {
				"/P/p1/Z.java",
				"package p1;\n" +
				"public class Z {\n" +
				"  Object foo() {\n" +
				"    return new X();\n" +
				"  }\n" +
				"}",
			});
			
			TestASTRequestor requestor = new TestASTRequestor(workingCopyBatches);
			createASTs(requestor);
			assertASTNodesEqual(
				"package p1;\n" + 
				"public class X extends Y {\n" + 
				"}\n" + 
				"\n" + 
				"package p1;\n" + 
				"public class Y {\n" + 
				"}\n" + 
				"\n" + 
				"package p1;\n" + 
				"public class Z {\n" + 
				"  Object foo(){\n" + 
				"    return new X();\n" + 
				"  }\n" + 
				"}\n" + 
				"\n",
				requestor.asts
			);
		} finally {
			discardWorkingCopies(workingCopyBatches);
		}
	}

