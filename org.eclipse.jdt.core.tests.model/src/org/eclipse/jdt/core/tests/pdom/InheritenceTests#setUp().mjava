	@Override
	protected void setUp() throws Exception {
		super.setUp();

		PDOMNodeTypeRegistry<PDOMNode> registry = new PDOMNodeTypeRegistry<>();
		registry.register(0, BaseClass.type.getFactory());
		registry.register(1, SubClass.type.getFactory());
		registry.register(2, Reference.type.getFactory());
		registry.register(3, AllObjects.type.getFactory());
		this.pdom = DatabaseTestUtil.createEmptyPdom(getName(), registry);
		this.pdom.getDB().setExclusiveLock();

		this.allObjects = new AllObjects(this.pdom);
		this.baseClass = new BaseClass(this.pdom, this.allObjects);
		this.subClass = new SubClass(this.pdom, this.allObjects);

		this.refA = new Reference(this.pdom, this.allObjects);
		this.refB = new Reference(this.pdom, this.allObjects);
		this.refC = new Reference(this.pdom, this.allObjects);
	}

