	@Override
	public List<? extends Element> getEnclosedElements() {
		ModuleBinding module = this.binding;
		Set<PackageBinding> unique = new HashSet<>();
		for (PackageBinding p : module.declaredPackages.values()) {
			if (p == null)
				continue;
			if (p instanceof SplitPackageBinding) {
				// select from incarnations the unique package containing CUs, if any:
				for (PackageBinding incarnation : ((SplitPackageBinding) p).incarnations) {
					if (incarnation.enclosingModule == module && incarnation.hasCompilationUnit(true)) {
						unique.add(getModulesPackageBinding(p));
					}
				}
				continue;
			} else {
				if (!p.hasCompilationUnit(true))
					continue;
			}
			unique.add(getModulesPackageBinding(p));
		}
		if (module.isUnnamed()) {
			PackageBinding def = module.environment.defaultPackage;
			// FIXME: Does it have any impact for unnamed modules - default package combo?
			if (def != null && def.hasCompilationUnit(true)) {
				unique.add(def);
			}
		} else {
			for (PackageBinding pBinding : this.binding.getExports()) {
				unique.add(getModulesPackageBinding(pBinding));
			}
			for (PackageBinding pBinding : this.binding.getOpens()) {
				unique.add(getModulesPackageBinding(pBinding));
			}
		}
		List<Element> enclosed = new ArrayList<>(unique.size());
		for (PackageBinding p : unique) {
			PackageElement pElement = (PackageElement) _env.getFactory().newElement(p);
			enclosed.add(pElement);
		}
		return Collections.unmodifiableList(enclosed);
	}

