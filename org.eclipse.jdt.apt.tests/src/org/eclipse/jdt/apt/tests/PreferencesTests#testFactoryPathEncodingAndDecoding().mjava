	public void testFactoryPathEncodingAndDecoding() throws Exception {
		//encode
		Map<FactoryContainer, Boolean> factories = new LinkedHashMap<FactoryContainer, Boolean>();
		FactoryContainer jarFactory = FactoryPath.newExtJarFactoryContainer(new File("C:/test.jar")); //$NON-NLS-1$
		FactoryContainer pluginFactory = new PluginFactoryContainer("com.bea.ap.plugin"); //$NON-NLS-1$
		factories.put(jarFactory, true);
		factories.put(pluginFactory, false);
		String xml = FactoryPathUtil.encodeFactoryPath(factories);
		assertEquals(serializedFactories, xml);
		
		// decode
		factories = FactoryPathUtil.decodeFactoryPath(xml);
		assertEquals(2, factories.size());

		int index=0;
		for (Map.Entry<FactoryContainer, Boolean> entry : factories.entrySet()) {
			FactoryContainer container = entry.getKey();
			if (index == 0) {
				// jar
				assertEquals(FactoryType.EXTJAR, container.getType());
				assertEquals(Boolean.TRUE, entry.getValue());
			}
			else {
				// plugin
				assertEquals(FactoryType.PLUGIN, container.getType());
				assertEquals(Boolean.FALSE, entry.getValue());
				assertEquals("com.bea.ap.plugin", container.getId()); //$NON-NLS-1$
			}
			
			index++;
		}
	}

