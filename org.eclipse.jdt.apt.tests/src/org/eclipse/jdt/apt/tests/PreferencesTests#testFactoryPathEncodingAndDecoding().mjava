	public void testFactoryPathEncodingAndDecoding() throws Exception {
		//encode
		Map<FactoryContainer, Boolean> factories = new HashMap<FactoryContainer, Boolean>();
		FactoryContainer jarFactory = new JarFactoryContainer(new File("C:/test.jar"));
		FactoryContainer pluginFactory = new PluginFactoryContainer("com.bea.ap.plugin");
		factories.put(jarFactory, true);
		factories.put(pluginFactory, false);
		String xml = FactoryPathUtil.encodeFactoryPath(factories);
		assertEquals(serializedFactories, xml);
		
		// decode
		factories = FactoryPathUtil.decodeFactoryPath(xml);
		assertEquals(2, factories.size());
		for (Map.Entry<FactoryContainer, Boolean> entry : factories.entrySet()) {
			FactoryContainer container = entry.getKey();
			if (container.getType() == FactoryType.JAR) {
				assertEquals(Boolean.TRUE, entry.getValue());
			}
			else {
				// Plugin
				assertEquals(Boolean.FALSE, entry.getValue());
				assertEquals("com.bea.ap.plugin", container.getId());
			}
		}
	}

