	/**
	 * creates the annotation jar.  
	 * @return the java.io.File of the jar that was created. Null if not found.
	 */
	public static File createAndAddAnnotationJar( IJavaProject project )
		throws IOException, JavaModelException
	{
		// TODO: temporary to work around jar-file locking problem:
		//IPath projectPath = getProjectPath( project );
		//File jarFile = new File( projectPath.toFile(), "Classes.jar" ); //$NON-NLS-1$
		File jarFile = File.createTempFile("org.eclipse.jdt.apt.tests.TestUtil", ".jar");  //$NON-NLS-1$//$NON-NLS-2$
		String classesJarPath = jarFile.getAbsolutePath();
		
		File binDir = getFileInPlugin( AptTestsPlugin.getDefault(), new Path("/bin"));
		if(null != binDir) {
		
			// create annotations jar at classesJarpath
			FileFilter filter = new PackageFileFilter(
					ANNOTATIONS_PKG, getPluginClassesDir());
			Map<File, FileFilter> files = Collections.singletonMap(
					new File(getPluginClassesDir()), filter);
			zip( classesJarPath, files );
		
		} else {
		
			File aptJarFile = getFileInPlugin( AptTestsPlugin.getDefault(), new Path("/apt.jar")); 
			if(null != aptJarFile) {
				
				// move extapt.jar to classesJarPath file
				moveFile(aptJarFile, classesJarPath);
			
			} else {
				
				throw new FileNotFoundException("Could not find apt.jar file in org.eclipse.jdt.apt.tests plugin");
			}
			
		}
		
		addLibraryEntry( project, new Path(classesJarPath), null /*srcAttachmentPath*/, 
				null /*srcAttachmentPathRoot*/, true );
	
		// TODO: see above temporary patch for file locking problem
		jarFile.deleteOnExit();
		return jarFile;
	}

