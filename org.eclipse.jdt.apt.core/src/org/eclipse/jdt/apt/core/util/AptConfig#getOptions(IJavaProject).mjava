	/**
	 * Return the apt settings for this project, or the workspace settings
	 * if they are not overridden by project settings.
	 * TODO: should jproject be allowed to be NULL?
	 * @param jproject
	 * @return
	 */
	private static Map getOptions(IJavaProject jproject) {
		Map options = _optionsMaps.get(jproject);
		if (null != options) {
			return options;
		}
		// We didn't already have an options map for this project, so create one.
		options = new HashMap(AptPreferenceConstants.NSETTINGS);

		// First load workspace-wide, then overlay per-project options if possible.
		loadWorkspaceOptions(options);
		if (jproject.getProject() != null) {
			IScopeContext context = new ProjectScope(jproject.getProject());
			final IEclipsePreferences eclipsePreferences = context.getNode(AptPlugin.PLUGIN_ID);
			try {
				for (String s : eclipsePreferences.keys()) {
					options.put(s, eclipsePreferences.get(s, ""));
				}
			}
			catch (BackingStoreException e) {
				// TODO
				e.printStackTrace();
			}
		}
		return options;
	}

