    /**
     * Save processor (-A) options as a string.  Option key/val pairs will be
     * serialized as -Akey=val, and key/null pairs as -Akey.  Options are
     * space-delimited.  The result resembles the apt command line.
     * @param options a map containing zero or more key/value or key/null pairs.
     */
    public static String serializeProcessorOptions(Map<String, String> options) {
    	StringBuilder sb = new StringBuilder();
    	boolean firstEntry = true;
    	for (Map.Entry<String, String> entry : options.entrySet()) {
    		if (firstEntry) {
    			firstEntry = false;
        		sb.append("-A"); //$NON-NLS-1$
    		}
    		else {
    			sb.append(" -A"); //$NON-NLS-1$
    		}
    		sb.append(entry.getKey());
    		if (entry.getValue() != null) {
    			sb.append("="); //$NON-NLS-1$
    			sb.append(entry.getValue());
    		}
    	}
    	return sb.toString();
    }

