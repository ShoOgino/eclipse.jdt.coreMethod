    private ProcessorEnvImpl(
    		final CompilationUnit astCompilationUnit,
    		final ICompilationUnit compilationUnit,
    		final IFile file,
    		final IJavaProject javaProj,
    		final Phase phase)
    {
    	super(  astCompilationUnit, file, javaProj, phase );
    	
    	// if we are in reconcile, compilationUnit will be valid
		// if we are in build, file will not be null & compilationUnit will be
		// null
    	assert( (phase == Phase.RECONCILE && compilationUnit != null) || 
    			(phase == Phase.BUILD && compilationUnit == null && file != null ) ) :
    			"Unexpected phase value " + phase ; //$NON-NLS-1$
			   
	   _unit = compilationUnit;	
	   _filer = new FilerImpl(this);
	   _allProblems = new HashMap<IFile, List<IProblem>>();	   
	   initOptions(javaProj);
    }

