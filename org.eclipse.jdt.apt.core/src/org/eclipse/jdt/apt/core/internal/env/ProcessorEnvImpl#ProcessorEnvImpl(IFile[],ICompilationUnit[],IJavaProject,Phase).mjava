    private ProcessorEnvImpl(
			final IFile[] files,
			final ICompilationUnit[] units,
			final IJavaProject javaProj,
			final Phase phase) {
    	
    	super(null, null, javaProj, phase);
    	assert( phase == Phase.BUILD && files != null  ) :
    		"Unexpected phase value " + phase; //$NON-NLS-1$
		
		_unit = null;
		_units = units;
		_filer = new FilerImpl(this);
		_files = files;
		_allProblems = new HashMap<IFile, List<IProblem>>();
		_markerInfos = new ArrayList<MarkerInfo>();
		initOptions(javaProj);
	}

