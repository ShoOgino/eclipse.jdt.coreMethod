	/**
	 * Create a reconcile environment from the given context. 
	 * @param reconcileContext
	 * @return the reconcile environment or null if creation failed.
	 */
	static ReconcileProcessorEnv newEnv(ReconcileContext reconcileContext)
    {	
		CompilationUnit compilationUnit = null;
		try{
			compilationUnit = reconcileContext.getAST(AST.JLS3, true);
		}catch( JavaModelException e){
			// TODO: log error
			compilationUnit = EMPTY_AST_UNIT;
		}
		
		final ICompilationUnit workingCopy = reconcileContext.getWorkingCopy();
		IJavaProject javaProject = workingCopy.getJavaProject();
		final IFile file = (IFile)workingCopy.getResource();
       	return new ReconcileProcessorEnv(compilationUnit, file, javaProject);
    }

