	/**
	 * 
	 * reads a given file's contents and returns them as a char array.
	 * 
	 * @param file
	 * @return
	 * @throws CoreException
	 */
	public static char[] getFileContents( IFile file )
		throws CoreException, IOException
	{
		char[]              rtrn  = null;
		InputStream         is    = null;
		BufferedInputStream bis   = null;
		InputStreamReader   isr   = null;
		CharArrayWriter      w    = null;

		try
		{
			is = file.getContents();
			bis = new BufferedInputStream( is );
			isr = new InputStreamReader( bis, file.getCharset() );
			w = new CharArrayWriter( 4096 );
			int c = -1;
			while ( ( c = isr.read() ) > -1 )
				w.write( c );
			rtrn = w.toCharArray();		
		}
		finally
		{
			try { if ( isr != null ) isr.close(); } catch ( IOException ioe ) {};
			try { if ( bis != null ) bis.close(); } catch ( IOException ioe ) {};
			try { if ( is != null ) is.close(); } catch ( IOException ioe ) {};
			if ( w != null ) w.close(); 
		}
		return rtrn;
	}

