    private void print(SourcePosition pos,
    				   APTProblem.Severity severity,
    				   String msg,
    				   String[] arguments)
    {    	
    	final java.io.File file = pos.file();
    	IFile resource = null;
    	if( file != null ){    		
    		final String projAbsPath = _env.getProject().getLocation().toOSString();
    		final String fileAbsPath = file.getAbsolutePath();
    		final String fileRelPath = fileAbsPath.substring(projAbsPath.length());    			
    		resource = _env.getProject().getFile(fileRelPath);
    		if( !resource.exists() )
    			resource = null;
    	}
    	else
    		resource = null;
    	 
    	final IFile currentResource = _env.getFile();
    	int offset = 0;    	
    	if( currentResource.equals(resource) ){
    		final CompilationUnit unit = _env.getAstCompilationUnit();    		
    		offset = unit.getPosition(pos.line(), pos.column() );
    	}    	
    	_env.addProblem(resource, offset, -1, severity, msg, pos.line(), arguments );   
    }

