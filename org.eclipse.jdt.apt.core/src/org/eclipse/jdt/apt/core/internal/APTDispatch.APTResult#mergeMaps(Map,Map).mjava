		/**
		 * This method assumes that the values of the two maps are of compatible type. 
		 * If not, {@link ClassCastException} will be thrown. If the values of the maps are not collections 
		 * and the keys collide, then {@link IllegalStateException} will be thrown.
		 * @param destination 
		 * @param source moving everything into <code>destination</code
		 *
		 */
		private void mergeMaps(final Map destination, final Map source )
		{		
			for( Object o : source.entrySet() )
			{
				final Map.Entry entry = (Map.Entry)o;
				final Object destValue = destination.get(entry.getKey());
				if( destValue == null )
					destination.put( entry.getKey(), entry.getValue() );
				else{
					if( destValue instanceof Collection )
					{
						final Collection destCollection = (Collection)destination;
						// A ClassCastException would occur if entry.getValue() doesn't return
						// a collection. 
						final Collection sourceCollection = (Collection)entry.getValue();
						destCollection.addAll(sourceCollection);
					}
					else
						throw new IllegalStateException("keys collided"); //$NON-NLS-1$
				}
			}
		}		

