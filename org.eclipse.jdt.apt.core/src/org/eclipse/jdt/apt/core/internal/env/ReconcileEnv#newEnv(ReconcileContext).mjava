	/**
	 * Create a reconcile environment from the given context. 
	 * @param reconcileContext
	 * @return the reconcile environment or null if creation failed.
	 */
	static ReconcileEnv newEnv(ReconcileContext reconcileContext)
    {	
		CompilationUnit compilationUnit = null;
		try{
			compilationUnit = reconcileContext.getAST3();
		}
		catch( JavaModelException e){ /* TODO: log error */ }
		
		if (compilationUnit == null)
			compilationUnit = EMPTY_AST_UNIT;
		
		final ICompilationUnit workingCopy = reconcileContext.getWorkingCopy();
		IJavaProject javaProject = workingCopy.getJavaProject();
		final IFile file = (IFile)workingCopy.getResource();
       	return new ReconcileEnv(compilationUnit, file, javaProject);
    }

