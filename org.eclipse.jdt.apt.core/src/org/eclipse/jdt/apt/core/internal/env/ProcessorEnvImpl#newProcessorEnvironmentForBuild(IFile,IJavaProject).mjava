    public static ProcessorEnvImpl newProcessorEnvironmentForBuild( IFile file, IJavaProject javaProj )
    {
    	char[] source = null;
		try{
			source = getFileContents( file );
		}
		catch( Exception e ){
			// TODO:  propagate these exceptions out of APTDispatch
			e.printStackTrace();
		}		
		String unitName = file.getProjectRelativePath().toString();
		ASTNode node = createDietAST( unitName, javaProj, null, source );
    	return new ProcessorEnvImpl((org.eclipse.jdt.core.dom.CompilationUnit)node, 
    			  					null /*ICompilationUnit*/, 
    							    source, file, javaProj, Phase.BUILD );
    }

