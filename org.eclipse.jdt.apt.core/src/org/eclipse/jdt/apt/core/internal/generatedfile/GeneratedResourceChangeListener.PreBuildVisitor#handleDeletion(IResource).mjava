		private void handleDeletion(IResource resource) throws CoreException {
			IProject project = resource.getProject();
			final IJavaProject javaProj = JavaCore.create(project);
			final AptProject aptProj = AptPlugin.getAptProject(javaProj);
			if( resource instanceof IFile ){
				final GeneratedFileManager gfm = aptProj.getGeneratedFileManager();
				IFile f = (IFile)resource;
				if ( gfm.isParentFile( f ) )
				{
					gfm.parentFileDeleted( (IFile) resource, null /* progress monitor */ );
				}
				else if ( gfm.isGeneratedFile( f ) )
				{
					gfm.generatedFileDeleted( f, null /*progress monitor */ );
				}
			}				
			else if( resource instanceof IFolder ){			
				final GeneratedSourceFolderManager gsfm = aptProj.getGeneratedSourceFolderManager();
				IFolder f = (IFolder) resource;					
				if ( gsfm.isGeneratedSourceFolder( f ) ){
					gsfm.folderDeleted();
					// all deletion occurs before any add (adding the generated source directory)
					if( !_removedProjects.contains(project) ){
						_addGenFolderTo.add(project);
					}
					// if the project is already closed or in the process of being
					// deleted, will ignore this deletion since we cannot correct 
					// the classpath anyways.
				}
			}
			else if( resource instanceof IProject ){	
				_removedProjects.add((IProject)resource);
			}
		}

