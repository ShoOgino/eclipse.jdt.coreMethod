	/**
	 * Stores a map of factory containers to the factorypath file
	 * for a given project. If null is passed in, the factorypath file
	 * is deleted.
	 */
	public static void saveFactoryPathFile(IJavaProject jproj, Map<FactoryContainer, Boolean> containerMap) 
		throws CoreException, IOException 
	{
		String data = FactoryPathUtil.encodeFactoryPath(containerMap);
		// If project is null, use workspace-level data
		if (jproj == null) {
			File file = new File(getFileForWorkspace(), WORKSPACE_SETTINGS_FILE);
			FileSystemUtil.writeStringToFile(file, data);
		}
		else {
			IProject proj = jproj.getProject();
			IFile file = proj.getFile(FACTORYPATH_FILE);
			if (containerMap == null) {
				file.delete(true, null);
				return;
			}
			
			FileSystemUtil.writeStringToIFile(file, data);
		}
	}

