	/**
	 * Run annnotation processing.
	 * @param factories the list of annotation processor factories to be run.
	 * @return the set of files that need to be compiled.
	 */
	public static APTResult runAPTDuringReconcile(
			final List<AnnotationProcessorFactory> factories,
			ICompilationUnit compilationUnit, IJavaProject javaProj) {		
		
		//
		//  bail-out early if there aren't factories or if there arent any annotation instances
		// 
		if ( factories == null || factories.size() == 0 || ! AptUtil.hasAnnotationInstance( compilationUnit ))
		{
			if ( DEBUG ) trace( "runAPTDuringReconcile: leaving early because there are no factories or annotation instances");
			cleanupAllGeneratedFilesForParent( (IFile)compilationUnit.getResource() );
			return EMPTY_APT_RESULT;
		}

		ProcessorEnvImpl processorEnv = ProcessorEnvImpl
				.newProcessorEnvironmentForReconcile(compilationUnit, javaProj);
		return runAPT(factories, processorEnv);
	}

