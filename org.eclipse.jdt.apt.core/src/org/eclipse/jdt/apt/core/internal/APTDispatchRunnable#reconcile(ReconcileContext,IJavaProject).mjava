	private void reconcile(ReconcileContext reconcileContext,
			   IJavaProject javaProject)
	{
		if (_factories.size() == 0) {
			if (AptPlugin.DEBUG)
				trace("runAPT: leaving early because there are no factories", //$NON-NLS-1$
						null);
			return;
		}
		ReconcileProcessorEnv processorEnv = CompilationProcessorEnv
				.newReconcileEnv(reconcileContext, javaProject);
		dispatchToFileBasedProcessor(processorEnv);

		final List<? extends CategorizedProblem> problemList = processorEnv
				.getProblems();
		final int numProblems = problemList.size();
		if (numProblems > 0) {
			final CategorizedProblem[] aptCatProblems = new CategorizedProblem[numProblems];
			reconcileContext.putProblems(
					AptPlugin.APT_COMPILATION_PROBLEM_MARKER, problemList
							.toArray(aptCatProblems));
		}
		processorEnv.close();
	}	

