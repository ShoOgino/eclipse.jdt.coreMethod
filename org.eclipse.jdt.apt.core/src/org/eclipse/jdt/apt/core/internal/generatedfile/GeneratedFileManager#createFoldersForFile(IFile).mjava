	/** 
	 * given an IFile, this will make sure that the intermediate folders
	 * are created. 
	 */
	private void createFoldersForFile( IFile f )
	    throws CoreException
	{
		String[] parts = f.getProjectRelativePath().segments();
		IContainer c = f.getProject();

		IFolder folder = c.getFolder( new Path( parts[0] ) );
		if ( !folder.exists() )
			folder.create( true, false, null );
		
		for ( int i = 1; i < parts.length - 1; i++ )
		{
			folder = folder.getFolder( parts[i] );
			if ( !folder.exists() )
				folder.create( true, false, null );
		}
	}

