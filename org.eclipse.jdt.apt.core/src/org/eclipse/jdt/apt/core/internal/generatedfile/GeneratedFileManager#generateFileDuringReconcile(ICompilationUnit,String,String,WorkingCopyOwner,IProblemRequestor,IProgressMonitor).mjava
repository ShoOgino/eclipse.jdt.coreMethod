	/**
	 * TODO:  figure out how to create a working copy with a client-specified character set
	 * 
	 * 
	 * @param parentCompilationUnit
	 * @param typeName
	 * @param contents
	 * @param workingCopyOwner
	 * @param problemRequestor
	 * @param progressMonitor
	 * @return
	 */
	public ICompilationUnit generateFileDuringReconcile(
			ICompilationUnit parentCompilationUnit, String typeName,
			String contents, WorkingCopyOwner workingCopyOwner,
			IProblemRequestor problemRequestor, IProgressMonitor progressMonitor ) 
	{
		ICompilationUnit workingCopy = null;
		try 
		{
			//
			// get working copy (either from cache or create a new one)
			//
			workingCopy = getWorkingCopy( 
				parentCompilationUnit,  typeName, contents,  
				workingCopyOwner, problemRequestor,  progressMonitor);
			
			//
			//  Update working copy's buffer with the contents of the type 
			// 
			updateWorkingCopy( contents, workingCopy, workingCopyOwner, progressMonitor );
			
			return workingCopy;
		
		} 
		catch (JavaModelException jme) 
		{
			jme.printStackTrace();
		} 
		catch (CoreException ce) 
		{
			ce.printStackTrace();
		}
		return workingCopy;
	}

