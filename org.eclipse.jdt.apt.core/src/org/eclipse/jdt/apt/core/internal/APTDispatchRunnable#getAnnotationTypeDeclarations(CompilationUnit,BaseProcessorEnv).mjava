	private static Map<String, AnnotationTypeDeclaration> getAnnotationTypeDeclarations(
			CompilationUnit astCompilationUnit, BaseProcessorEnv env) {
		final List<Annotation> instances = new ArrayList<Annotation>();
		final AnnotationVisitor visitor = new AnnotationVisitor(instances);
		astCompilationUnit.accept(visitor);
		final Map<String, AnnotationTypeDeclaration> decls = new HashMap<String, AnnotationTypeDeclaration>();
		for (int i = 0, size = instances.size(); i < size; i++) {
			final Annotation instance = instances.get(i);
			final ITypeBinding annoType = instance.resolveTypeBinding();
			if (annoType == null)
				continue;
			final TypeDeclarationImpl annoDecl = Factory.createReferenceType(
					annoType, env);
			if (annoDecl.kind() == EclipseMirrorImpl.MirrorKind.TYPE_ANNOTATION)
				decls.put(annoDecl.getQualifiedName(),
						(AnnotationTypeDeclaration) annoDecl);
		}
		return decls;
	}

