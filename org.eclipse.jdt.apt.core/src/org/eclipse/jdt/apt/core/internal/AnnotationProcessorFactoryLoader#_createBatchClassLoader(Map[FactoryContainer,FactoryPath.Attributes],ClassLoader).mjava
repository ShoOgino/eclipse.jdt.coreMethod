	private ClassLoader _createBatchClassLoader( 
			Map<FactoryContainer, FactoryPath.Attributes> containers, 
			ClassLoader iterativeClassLoader) {
		
		ArrayList<URL> urlList = new ArrayList<URL>( containers.size() );
		for (Map.Entry<FactoryContainer, FactoryPath.Attributes> entry : containers.entrySet()) {
			FactoryPath.Attributes attr = entry.getValue();
			FactoryContainer fc = entry.getKey();
			if (attr.runInBatchMode() && fc instanceof JarFactoryContainer) {
				try
				{
					JarFactoryContainer jfc = (JarFactoryContainer)fc;
					URL u = jfc.getJarFileURL();
					urlList.add( u );
				}
				catch ( MalformedURLException mue )
				{
					AptPlugin.log(mue, "Could not create ClassLoader for " + fc); //$NON-NLS-1$
				}
			}
		}
		
		ClassLoader cl;
		if ( urlList.size() > 0 ) {
			URL[] urls = urlList.toArray(new URL[urlList.size()]);
			// This needs to be a child of the iterative class loader
			cl = new URLClassLoader( urls, iterativeClassLoader );
		}
		else {
			cl = iterativeClassLoader;
		}
		return cl;
		
	}

