		public boolean visit(IResourceDelta delta) throws CoreException 
		{
			IResource r = delta.getResource();
			IProject project = r.getProject();		
			
			if ( project == null ) 
				return true;
			
			if( delta.getKind() == IResourceDelta.REMOVED ){
				GeneratedFileManager gfm = GeneratedFileManager.getGeneratedFileManager( project );
				if( r instanceof IFile ){
					IFile f = (IFile)r;
					if ( gfm.isParentFile( f ) )
					{
						gfm.parentFileDeleted( (IFile) r, null /* progress monitor */ );
					}
					else if ( gfm.isGeneratedFile( f ) )
					{
						gfm.generatedFileDeleted( f, null /*progress monitor */ );
					}
				}
				else if( r instanceof IFolder ){			
					IFolder f = (IFolder) r;
					if ( gfm.isGeneratedSourceFolder( f ) ){
						// all deletion occurs before any add (adding the generated source directory)
						gfm.generatedSourceFolderDeleted(_removedProjects.contains(project));
						_addGenFolderTo.add(project);
					}
				}
				else if( r instanceof IProject ){	
					_removedProjects.add((IProject)r);
				}
			}
			else if( r instanceof IProject ){
				final IProject proj = (IProject)delta.getResource();		
				if( proj.isOpen() && proj.exists() && proj.hasNature(JavaCore.NATURE_ID) ){
					_addGenFolderTo.add(proj);
				}
				else
					_removedProjects.add(proj);
			}

			return true;
		}	

