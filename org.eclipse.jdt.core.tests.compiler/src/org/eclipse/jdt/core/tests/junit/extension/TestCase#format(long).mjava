private String format(long number) {
	StringBuffer buffer = new StringBuffer();
	long n = number;
	long q = n / 1000L;
	int r = (int) (n - q*1000);
	buffer.append(r);
//	int x = 0;
	while ((n=q) > 0) {
		q = n / 1000L;
		r = (int) (n - q*1000);
		buffer = new StringBuffer()
			.append(r)
			.append(',')
			.append(buffer);
//		x++;
	}
//	switch (x) {
//		case 1:
//			buffer.append('K');
//			break;
//		case 2:
//			buffer.append('M');
//			break;
//	}
	return buffer.toString();
}

