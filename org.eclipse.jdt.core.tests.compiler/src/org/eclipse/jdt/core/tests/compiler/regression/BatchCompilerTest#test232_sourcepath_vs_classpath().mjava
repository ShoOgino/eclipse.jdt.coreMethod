// https://bugs.eclipse.org/bugs/show_bug.cgi?id=216684
// .java/.class files precedence depending on sourcepath
// different from javac: we select sourcepath over classpath, while javac
// does the opposite
// here, class file is older than source file (but javac still select class 
// file)
public void test232_sourcepath_vs_classpath() {
	runConformTest(
		new String[] {
			"src1/X.java",
			"public class X {\n" +
			"}\n",
		},
		"\"" + OUTPUT_DIR +  File.separator + "src1" + File.separator + "X.java\""
		+ " -proc:none -d \"" + OUTPUT_DIR + File.separator + "bin1\"",
		"",
		"",
		true);
	// sourcepath preferred over classpath
	runTest(
		false /* shouldCompileOK */,
		new String[] { /* testFiles */
			"Y.java",
			"public class Y {\n" +
			"  X x;\n" +
			"}\n",
			"src2/X.java",
			"public class X {\n" +
			"  Zork error;\n" +
			"}\n",
		},
		"\"" + OUTPUT_DIR +  File.separator + "Y.java\"" /* commandLine */
		+ " -classpath \"" + OUTPUT_DIR + File.separator + "bin1\""
		+ " -sourcepath \"" + OUTPUT_DIR + File.separator + "src2\""
		+ " -proc:none -d \"" + OUTPUT_DIR + "\"",
		"" /* expectedOutOutputString */,
		"----------\n" + 
		"1. ERROR in ---OUTPUT_DIR_PLACEHOLDER---/src2/X.java (at line 2)\n" + 
		"	Zork error;\n" + 
		"	^^^^\n" + 
		"Zork cannot be resolved to a type\n" + 
		"----------\n" + 
		"1 problem (1 error)" /* expectedErrOutputString */,
		false /* shouldFlushOutputDirectory */,
		null /* progress */);
}

