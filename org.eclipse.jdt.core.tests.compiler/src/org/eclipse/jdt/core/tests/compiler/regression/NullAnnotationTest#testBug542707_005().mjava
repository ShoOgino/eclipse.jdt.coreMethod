public void testBug542707_005() {
	if (this.complianceLevel < ClassFileConstants.JDK12) return; // switch expression
	// switch value must not be null (@Nullable)
	Runner runner = new Runner();
	runner.customOptions = getCompilerOptions();
	runner.customOptions.put(JavaCore.COMPILER_PB_ENABLE_PREVIEW_FEATURES, JavaCore.ENABLED);
	runner.customOptions.put(CompilerOptions.OPTION_ReportPreviewFeatures, CompilerOptions.IGNORE);
	runner.classLibraries = this.LIBS;
	runner.testFiles = new String[] {
		"X.java",
		"import org.eclipse.jdt.annotation.*;\n" +
		"enum SomeDays { Mon, Wed, Fri }\n" +
		"public class X {\n" +
		"	int testEnum(@Nullable SomeDays day) {\n" + 
		"		return switch(day) {\n" + 
		"		case Mon -> 1;\n" + 
		"		case Wed -> 2;\n" + 
		"		case Fri -> 3;\n" + 
		"		};\n" + 
		"	}\n" +
		"}\n"
	};
	runner.expectedCompilerLog = this.complianceLevel == ClassFileConstants.JDK13 ?
			"----------\n" + 
			"1. ERROR in X.java (at line 5)\n" + 
			"	return switch(day) {\n" + 
			"	              ^^^\n" + 
			"Potential null pointer access: this expression has a \'@Nullable\' type\n" + 
			"----------\n" :
			"----------\n" + 
			"1. ERROR in X.java (at line 0)\n" + 
			"	import org.eclipse.jdt.annotation.*;\n" + 
			"	^\n" + 
			"Preview features enabled at an invalid source release level 12, preview can be enabled only at source level 13\n" + 
			"----------\n";
	runner.runNegativeTest();
}

