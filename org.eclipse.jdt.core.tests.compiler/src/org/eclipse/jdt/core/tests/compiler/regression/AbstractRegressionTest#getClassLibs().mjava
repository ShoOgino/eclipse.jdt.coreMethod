protected INameEnvironment[] getClassLibs() {
	String encoding = (String) getCompilerOptions().get(CompilerOptions.OPTION_Encoding);
	if ("".equals(encoding)) encoding = null;
	
	int length = this.classpaths.length;
	INameEnvironment[] classLibs = new INameEnvironment[length];
	for (int i = 0; i < length; i++) {
		String classpath = this.classpaths[i];
		if (classpath.equals(JAVA_CLASS_LIB_PATH)) {
			if (this.javaClassLib == null) {
				this.javaClassLib =
					new FileSystem(
						new String[] {classpath}, 
						new String[] {}, // ignore initial file names
						encoding // default encoding
				);
			}
			classLibs[i] = this.javaClassLib;
		} else {
			classLibs[i] =
				new FileSystem(
					new String[] {classpath}, 
					new String[] {}, // ignore initial file names
					encoding // default encoding			
				);
		}
	}
	return classLibs;
}

