// https://bugs.eclipse.org/bugs/show_bug.cgi?id=126712
// reflection - access to a public method of a package visible
// class through a public extending class
// **
public void test0600_reflection() {
	this.runConformTest(
		new String[] {
			"X.java",
			"import java.lang.reflect.*;\n" + 
			"import p.*;\n" + 
			"public class X {\n" + 
			"static public void main (String args[]) {\n" + 
			"  Y y = new Y();\n" +
			"  try {\n" +
			"    Method foo = Y.class.getMethod(\"foo\", (Class []) null);\n" +
			"    y.foo();\n" +
			"    foo.invoke(y, (Object []) null);\n" +
			"  }\n" +
			"  catch (Throwable t) {\n" +
			"    System.out.println(\"FAILURE: \" + t.getMessage());\n" +
			"    t.printStackTrace(System.out);\n" +
			"  }\n" + 
			"}\n" + 
			"}\n",
			"p/Y.java",
			"package p;\n" +
			"public class Y extends Z {\n" + 
			"  /* empty */\n" + 
			"}\n",
			"p/Z.java",
			"package p;\n" +
			"class Z {\n" + 
			"  public void foo() {\n" + 
			"  System.out.println(\"SUCCESS\"); //$NON-NLS-1$\n" + 
			"  }\n" + 
			"}\n"},
		"SUCCESS\n" + 
		"FAILURE: Class X can not access a member of class p.Z with modifiers \"public\"\n" + 
		"java.lang.IllegalAccessException: Class X can not access a member of class p.Z with modifiers \"public\"\n" + 
		"	at sun.reflect.Reflection.ensureMemberAccess(Reflection.java:65)\n" + 
		"	at java.lang.reflect.Method.invoke(Method.java:588)\n" + 
		"	at X.main(X.java:9)\n" + 
		"	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n" + 
		"	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n" + 
		"	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n" + 
		"	at java.lang.reflect.Method.invoke(Method.java:597)\n" + 
		"	at"
	);
}

