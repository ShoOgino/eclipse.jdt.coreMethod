protected void outputClassFiles(CompilationResult unitResult) {

	if ((unitResult != null) && (!unitResult.hasErrors() || generateOutput)) {
		Enumeration classFiles = unitResult.compiledTypes.elements();
		if (outputPath != null) {
			while (classFiles.hasMoreElements()) {
				// retrieve the key and the corresponding classfile
				ClassFile classFile = (ClassFile) classFiles.nextElement();
				String relativeName = 
					new String(classFile.fileName()).replace('/', File.separatorChar) + ".class";
				try {
					ClassFile.writeToDisk(true, outputPath, relativeName, classFile.getBytes());
				} catch(IOException e) {
				}
			}
		}
	}
}

