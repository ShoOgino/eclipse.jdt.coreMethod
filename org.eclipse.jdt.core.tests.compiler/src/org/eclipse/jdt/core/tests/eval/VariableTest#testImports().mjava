/**
 * Tests variables that include one or more imports.
 */
public void testImports() {
	try {
		// import a package
		context.setImports(new char[][] {"java.io.*".toCharArray()});
		GlobalVariable file = context.newVariable("boolean".toCharArray(), "file".toCharArray(), "new File(\"!@#%\").exists()".toCharArray());
		installVariables(1);
		evaluateWithExpectedValue(file, "false".toCharArray(), "boolean".toCharArray());
		context.deleteVariable(file);

		// import a type
		context.setImports(new char[][] {"java.math.BigInteger".toCharArray()});
		GlobalVariable big = context.newVariable("BigInteger".toCharArray(), "big".toCharArray(), "new BigInteger(\"123456789012345678901234567890\")".toCharArray());
		installVariables(1);
		evaluateWithExpectedValue(big, "123456789012345678901234567890".toCharArray(), "java.math.BigInteger".toCharArray());
		context.deleteVariable(big);

		// import a type and a package
		context.setImports(new char[][] {"java.util.Enumeration".toCharArray(), "java.lang.reflect.*".toCharArray()});
		GlobalVariable fields = context.newVariable("Field[]".toCharArray(), "fields".toCharArray(), "Enumeration.class.getDeclaredFields()".toCharArray());
		installVariables(1);
		evaluateWithExpectedType("return fields;".toCharArray(), "[Ljava.lang.reflect.Field;".toCharArray());
		context.deleteVariable(fields);
	} finally {
		// clean up
		context.setImports(new char[0][]);
	}
}

