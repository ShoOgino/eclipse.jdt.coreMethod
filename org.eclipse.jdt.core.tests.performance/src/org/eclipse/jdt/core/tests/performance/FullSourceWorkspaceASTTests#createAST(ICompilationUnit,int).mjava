	/**
	 * Create AST nodes tree for a given compilation unit at a JLS given level
	 * 
	 * @deprecated
	 */
	private void createAST(ICompilationUnit unit, int astLevel) throws JavaModelException {

		// Warm up
		for (int i = 0; i < 2; i++) {
			ASTParser parser = ASTParser.newParser(astLevel);
			parser.setSource(unit);
			parser.setResolveBindings(astLevel!=AST.JLS2);
			parser.createAST(null);
		}

		// Measures
		for (int i = 0; i < MEASURES_COUNT; i++) {
			ASTNode result = null;
			runGc();
			startMeasuring();
			for (int j=0; j<ITERATIONS_COUNT; j++) {
				ASTParser parser = ASTParser.newParser(astLevel);
				parser.setSource(unit);
				parser.setResolveBindings(false);
				result = parser.createAST(null);
			}
			stopMeasuring();
			assertEquals("Wrong type for node"+result, result.getNodeType(), ASTNode.COMPILATION_UNIT);
			CompilationUnit compilationUnit = (CompilationUnit) result;
			CommentMapperASTVisitor visitor = new CommentMapperASTVisitor(compilationUnit);
			compilationUnit.accept(visitor);
			nodesCount += visitor.nodes * ITERATIONS_COUNT;
		}

		// Commit
		commitMeasurements();
		assertPerformance();
	}

