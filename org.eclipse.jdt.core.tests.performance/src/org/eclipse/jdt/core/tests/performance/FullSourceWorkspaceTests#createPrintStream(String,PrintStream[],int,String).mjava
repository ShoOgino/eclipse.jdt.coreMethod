	/**
	 * Create print streams (one for each type of statistic).
	 * Log file names have all same prefix (see {@link getLogFilePrefix(String)}),
	 * include type of statistic stored in it and always have extension ".log".
	 * 
	 * If log file does not exist, then add column headers at the beginning of the file.
	 * 
	 * This method does nothing if log files directory has not been initialized
	 * (which should be the case most of times and especially while running nightly/integration build performance tests).
	 */
	protected static void createPrintStream(String className, PrintStream[] logStreams, int count, String prefix) {
		if (LOG_DIR != null) {
			String testTypeName = className.substring(className.indexOf("FullSourceWorkspace")+"FullSourceWorkspace".length(), className.lastIndexOf("Test"));
			for (int i=0, ln=LOG_TYPES.length; i<ln; i++) {
				File logFile = new File(LOG_DIR, "Perfs"+testTypeName+LOG_VERSION+LOG_TYPES[i]+".log");
				try {
					boolean fileExist = logFile.exists();
					PrintStream logStream = null;
					// Open stream
					if (LOG_TYPES[i].equals("count")) {
						logStream = logStreams[0] = new PrintStream(new FileOutputStream(logFile, true));
					} else if (LOG_TYPES[i].equals("sum")) {
						logStream = logStreams[1] = new PrintStream(new FileOutputStream(logFile, true));
					} else if (LOG_TYPES[i].equals("average")) {
						logStream = logStreams[2] = new PrintStream(new FileOutputStream(logFile, true));
					} else if (LOG_TYPES[i].equals("stddev")) {
						logStream = logStreams[3] = new PrintStream(new FileOutputStream(logFile, true));
					}
					if (!fileExist && logStream != null) {
						logStream.print("Date  \tTime  \t");
						for (int j=0; j<count; j++) {
							String testName = ((String) TESTS_NAME_LIST.get(j)).substring(8+(prefix==null?0:prefix.length())); // 8="testPerf".length()
							logStream.print(testName+'\t');
						}
						logStream.println("Comment");
						
					}
					// Log date and time
					Date date = new Date(System.currentTimeMillis());
					logStream.print(DateFormat.getDateInstance(3).format(date)+'\t');
					logStream.print(DateFormat.getTimeInstance(3).format(date)+'\t');
					System.out.println("Log file "+logFile.getPath()+" opened.");
				} catch (FileNotFoundException e) {
					// no log available for this statistic
				}
			}
		}
	}

