	/* (non-Javadoc)
	 * @see org.eclipse.jdt.core.tests.performance.FullSourceWorkspaceTests#setFullSourceWorkspace()
	 */
	private void waitUntilReadyToSearch() throws IOException, CoreException {
		IndexManager indexManager = JavaModelManager.getJavaModelManager().getIndexManager();
		IJob doNothing = new IJob() {
			/**
			 * Answer true if the job belongs to a given family (tag)
			 */
			public boolean belongsTo(String jobFamily) {
				return true;
			}
			/**
			 * Asks this job to cancel its execution. The cancellation
			 * can take an undertermined amount of time.
			 */
			public void cancel() {
				// nothing to cancel
			}
			/**
			 * Ensures that this job is ready to run.
			 */
			public void ensureReadyToRun() {
				// always ready to do nothing
			}
			/**
			 * Execute the current job, answer whether it was successful.
			 */
			public boolean execute(IProgressMonitor progress) {
				// always succeed to do nothing
				return true;
			}
		};
		if (DEBUG) System.out.print("Wait until ready to search..."); //$NON-NLS-1$
		indexManager.performConcurrentJob(doNothing, IJavaSearchConstants.WAIT_UNTIL_READY_TO_SEARCH, null);
		if (DEBUG) {
			if (indexManager.awaitingJobsCount() == 0)
				System.out.println("done"); //$NON-NLS-1$
			else
				System.err.println(" KO: remaining jobs="+indexManager.awaitingJobsCount()); //$NON-NLS-1$
		}
	}

