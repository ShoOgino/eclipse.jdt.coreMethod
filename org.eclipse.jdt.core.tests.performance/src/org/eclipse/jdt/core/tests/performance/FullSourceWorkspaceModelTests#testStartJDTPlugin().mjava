public void testStartJDTPlugin() throws JavaModelException {
	// store current settings
	long oldSnapInterval = ENV.getWorkspace().getDescription().getSnapshotInterval();	
	// prevent snapshots and autobuilds from disturbing our measures
	ENV.getWorkspace().getDescription().setSnapshotInterval(100000);
	try {
		// Warm-up
		for (int i=0; i<WARMUP_COUNT; i++) {
			simulateExitRestart();
			JavaCore.initializeAfterLoad(null);
			AbstractJavaModelTests.waitUntilIndexesReady();
		}
	
		// Measures
		for (int i=0; i<MEASURES_COUNT; i++) {
			// shutdwon
			simulateExit();			
			runGc();
			startMeasuring();
			// restart
			simulateRestart();
			JavaCore.initializeAfterLoad(null);
			AbstractJavaModelTests.waitUntilIndexesReady();
			stopMeasuring();
		}
		// Commit
		commitMeasurements();
		assertPerformance();
	}
	catch (CoreException ex) {
		// do nothing
	}
	finally {
		// restore previous settings
		ENV.getWorkspace().getDescription().setSnapshotInterval(oldSnapInterval);
	}
}

